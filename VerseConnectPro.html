<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerseConnect Pro | Al-Quran & Hadis</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Scheherazade+New:wght@400;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        :root {
            --primary: #1a5e3a;
            --secondary: #0d4527;
            --accent: #d4af37;
            --light: #f8f8f2;
            --dark: #0c2a1c;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --correct: #4CAF50;
            --wrong: #F44336;
        }
        
        body {
            background-color: #f5f7f5;
            color: #333;
            line-height: 1.6;
            overflow: hidden;
            height: 100vh;
        }
        
        /* Opening Screen */
        .opening-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: transform 1s ease-in-out;
            color: white;
            text-align: center;
            padding: 20px;
        }
        
        .opening-screen.hidden {
            transform: translateY(-100%);
        }
        
        .logo-container {
            margin-bottom: 30px;
            animation: float 3s ease-in-out infinite;
        }
        
        .logo-icon {
            font-size: 80px;
            color: var(--accent);
            margin-bottom: 15px;
        }
        
        .logo-text {
            font-size: 48px;
            font-weight: 700;
            font-family: 'Scheherazade New', serif;
            letter-spacing: 2px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .logo-subtext {
            font-size: 18px;
            margin-top: 10px;
            opacity: 0.9;
        }
        
        .touch-instruction {
            position: absolute;
            bottom: 40px;
            font-size: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 30px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            animation: pulse 2s infinite;
            cursor: pointer;
        }
        
        .touch-instruction i {
            margin-right: 10px;
        }
        
        /* Sound Controls */
        .sound-controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1100;
            display: flex;
            gap: 10px;
            flex-direction: column;
            align-items: flex-end;
        }
        
        .sound-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .sound-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .sound-btn.active {
            background: var(--accent);
            color: var(--dark);
        }
        
        .volume-slider-container {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 10px 15px;
            margin-top: 10px;
            display: none;
            align-items: center;
            gap: 10px;
            width: 200px;
        }
        
        .volume-slider-container.show {
            display: flex;
        }
        
        .volume-slider {
            flex: 1;
            height: 5px;
            -webkit-appearance: none;
            appearance: none;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
        }
        
        .volume-slider::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent);
            cursor: pointer;
            border: none;
        }
        
        .volume-icon {
            color: white;
            font-size: 16px;
        }
        
        /* Music Info */
        .music-info {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 12px;
            max-width: 250px;
            display: none;
            z-index: 1100;
            backdrop-filter: blur(10px);
        }
        
        .music-info.show {
            display: block;
            animation: fadeInOut 4s forwards;
        }
        
        .music-title {
            font-weight: 600;
            margin-bottom: 3px;
            color: var(--accent);
        }
        
        /* YouTube Player (Hidden) */
        .youtube-player {
            position: fixed;
            bottom: -100px;
            right: 20px;
            width: 300px;
            height: 0;
            z-index: 900;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .youtube-player.show {
            height: 180px;
            bottom: 20px;
            opacity: 1;
        }
        
        /* Main Menu */
        .main-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #0d4527, #1a5e3a);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 900;
            padding: 20px;
            color: white;
        }
        
        .main-menu.show {
            display: flex;
        }
        
        .menu-title {
            font-size: 36px;
            margin-bottom: 50px;
            font-family: 'Scheherazade New', serif;
            text-align: center;
        }
        
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            max-width: 800px;
            width: 100%;
        }
        
        .menu-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .menu-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.15);
            border-color: var(--accent);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .menu-icon {
            font-size: 60px;
            color: var(--accent);
            margin-bottom: 20px;
        }
        
        .menu-card-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 10px;
            font-family: 'Scheherazade New', serif;
        }
        
        .menu-card-desc {
            font-size: 16px;
            opacity: 0.9;
        }
        
        /* Back Button */
        .back-btn {
            position: absolute;
            top: 30px;
            left: 30px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            z-index: 100;
        }
        
        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-5px);
        }
        
        /* Pages */
        .page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #f5f7f5;
            display: none;
            flex-direction: column;
            z-index: 800;
            overflow-y: auto;
        }
        
        .page.show {
            display: flex;
        }
        
        .page-header {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        .page-title {
            font-size: 36px;
            font-weight: 700;
            font-family: 'Scheherazade New', serif;
            margin-bottom: 10px;
        }
        
        .page-subtitle {
            font-size: 18px;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .page-content {
            flex: 1;
            padding: 30px;
            max-width: 1400px;
            width: 100%;
            margin: 0 auto;
        }
        
        /* Quran & Hadis Page Styles - 4 Columns */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-top: 30px;
        }
        
        @media (min-width: 1200px) {
            .options-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        @media (min-width: 768px) and (max-width: 1199px) {
            .options-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        .option-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .option-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            border-color: var(--primary);
        }
        
        .option-icon {
            font-size: 50px;
            color: var(--primary);
            margin-bottom: 20px;
            height: 80px;
            width: 80px;
            line-height: 80px;
            background: rgba(26, 94, 58, 0.1);
            border-radius: 50%;
            margin: 0 auto 20px;
        }
        
        .option-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--secondary);
            font-family: 'Scheherazade New', serif;
        }
        
        .option-desc {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
            flex-grow: 1;
        }
        
        /* Game Pages - Tajwid Game Styles */
        .game-page {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .game-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            max-width: 1000px;
            width: 100%;
        }
        
        .game-title {
            font-size: 32px;
            color: var(--primary);
            margin-bottom: 10px;
            font-family: 'Scheherazade New', serif;
        }
        
        .game-subtitle {
            font-size: 18px;
            color: #666;
            margin-bottom: 20px;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-between;
            background: #f0f7f3;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .stat-box {
            text-align: center;
            flex: 1;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .stat-label {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .ayah-container {
            background: #f9f9f9;
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #e0e0e0;
            text-align: center;
        }
        
        .ayah-text {
            font-size: 28px;
            line-height: 1.8;
            margin-bottom: 20px;
            font-family: 'Scheherazade New', serif;
            color: var(--dark);
            direction: rtl;
        }
        
        .highlighted-text {
            background-color: rgba(212, 175, 55, 0.3);
            padding: 3px 8px;
            border-radius: 8px;
            font-weight: bold;
            color: var(--dark);
            border: 2px solid var(--accent);
        }
        
        .ayah-reference {
            font-size: 18px;
            color: var(--primary);
            font-style: italic;
        }
        
        .question-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .question-text {
            font-size: 22px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .options-grid-tajwid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        @media (max-width: 768px) {
            .options-grid-tajwid {
                grid-template-columns: 1fr;
            }
        }
        
        .option-btn {
            background: white;
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            text-align: center;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .option-btn:hover {
            border-color: var(--primary);
            background: #f9f9f9;
            transform: translateY(-3px);
        }
        
        .option-btn.selected {
            border-color: var(--primary);
            background: rgba(26, 94, 58, 0.1);
            transform: translateY(-3px);
        }
        
        .option-btn.correct {
            border-color: var(--correct);
            background: rgba(76, 175, 80, 0.1);
            color: #2E7D32;
        }
        
        .option-btn.wrong {
            border-color: var(--wrong);
            background: rgba(244, 67, 54, 0.1);
            color: #C62828;
        }
        
        .option-icon-tajwid {
            margin-right: 10px;
            font-size: 20px;
        }
        
        .controls-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 18px;
            min-width: 180px;
        }
        
        .btn:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: rgba(26, 94, 58, 0.1);
        }
        
        .result-container {
            background: #f0f7f3;
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            display: none;
        }
        
        .result-container.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .result-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .result-icon {
            font-size: 28px;
        }
        
        .result-correct .result-icon {
            color: var(--correct);
        }
        
        .result-wrong .result-icon {
            color: var(--wrong);
        }
        
        .result-explanation {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .tajwid-details {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border-left: 5px solid var(--accent);
        }
        
        .detail-item {
            margin-bottom: 10px;
            display: flex;
        }
        
        .detail-label {
            font-weight: 600;
            min-width: 120px;
            color: var(--primary);
        }
        
        .game-complete {
            text-align: center;
            padding: 40px;
            display: none;
        }
        
        .game-complete.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .completion-title {
            font-size: 36px;
            color: var(--primary);
            margin-bottom: 20px;
            font-family: 'Scheherazade New', serif;
        }
        
        .score-display {
            font-size: 48px;
            font-weight: 600;
            color: var(--accent);
            margin: 20px 0;
        }
        
        .performance-stats {
            background: #f0f7f3;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: left;
        }
        
        .performance-stats h3 {
            color: var(--primary);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .rating {
            font-size: 32px;
            font-weight: 600;
            margin: 20px 0;
            padding: 15px;
            border-radius: 15px;
        }
        
        .rating-excellent {
            background: rgba(76, 175, 80, 0.1);
            color: #2E7D32;
            border: 2px solid var(--correct);
        }
        
        .rating-good {
            background: rgba(255, 152, 0, 0.1);
            color: #EF6C00;
            border: 2px solid #FF9800;
        }
        
        .rating-average {
            background: rgba(244, 67, 54, 0.1);
            color: #C62828;
            border: 2px solid var(--wrong);
        }
        
        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        
        .hint-container {
            background: #fff9e6;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            border: 2px dashed var(--accent);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .hint-icon {
            color: var(--accent);
            font-size: 24px;
        }
        
        .hint-text {
            font-size: 16px;
            color: #666;
        }
        
        .difficulty-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .difficulty-easy {
            background: rgba(76, 175, 80, 0.2);
            color: #2E7D32;
        }
        
        .difficulty-medium {
            background: rgba(255, 152, 0, 0.2);
            color: #EF6C00;
        }
        
        .difficulty-hard {
            background: rgba(244, 67, 54, 0.2);
            color: #C62828;
        }
        
        .timer-container-tajwid {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(26, 94, 58, 0.1);
            padding: 10px 20px;
            border-radius: 50px;
            margin: 10px auto;
            max-width: 200px;
        }
        
        .timer-tajwid {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary);
        }
        
        /* Level Selection Page */
        .level-selection {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }
        
        .level-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            width: 100%;
            max-width: 800px;
        }
        
        .level-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 3px solid transparent;
        }
        
        .level-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .level-card.easy {
            border-color: #4CAF50;
        }
        
        .level-card.medium {
            border-color: #FF9800;
        }
        
        .level-card.hard {
            border-color: #F44336;
        }
        
        .level-icon {
            font-size: 40px;
            margin-bottom: 15px;
        }
        
        .level-card.easy .level-icon {
            color: #4CAF50;
        }
        
        .level-card.medium .level-icon {
            color: #FF9800;
        }
        
        .level-card.hard .level-icon {
            color: #F44336;
        }
        
        .level-name {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .level-desc {
            font-size: 14px;
            color: #666;
            margin-bottom: 15px;
        }
        
        .level-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
        }
        
        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: 600;
        }
        
        .stat-label {
            font-size: 12px;
            color: #888;
        }
        
        /* Quran Quiz & Hadis Quiz Styles - FIXED */
        .quiz-container {
            width: 100%;
        }
        
        .quiz-question {
            background: #f0f7f3;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            font-size: 20px;
            font-weight: 500;
        }
        
        .quiz-options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .quiz-option {
            background: white;
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            text-align: left;
        }
        
        .quiz-option:hover {
            border-color: var(--primary);
            background: #f9f9f9;
        }
        
        .quiz-option.selected {
            border-color: var(--primary);
            background: rgba(26, 94, 58, 0.1);
        }
        
        .quiz-option.correct {
            border-color: var(--correct);
            background: rgba(76, 175, 80, 0.1);
            color: #2E7D32;
        }
        
        .quiz-option.wrong {
            border-color: var(--wrong);
            background: rgba(244, 67, 54, 0.1);
            color: #C62828;
        }
        
        .quiz-result {
            font-size: 20px;
            font-weight: 600;
            margin: 20px 0;
            min-height: 30px;
            padding: 10px;
            border-radius: 10px;
        }
        
        .quiz-result.result-correct {
            background: rgba(76, 175, 80, 0.1);
            color: #2E7D32;
            border: 2px solid var(--correct);
        }
        
        .quiz-result.result-wrong {
            background: rgba(244, 67, 54, 0.1);
            color: #C62828;
            border: 2px solid var(--wrong);
        }
        
        /* Hadis Continue Game Styles - FIXED */
        .continue-game {
            width: 100%;
            margin: 30px 0;
        }
        
        .continue-game .game-stats {
            display: flex;
            justify-content: space-between;
            background: #f0f7f3;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .continue-game .timer-container {
            background: #f0f7f3;
            padding: 10px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .continue-game .timer {
            font-size: 24px;
            font-weight: 600;
            color: var(--primary);
        }
        
        .verse-part {
            font-size: 28px;
            margin: 20px 0;
            padding: 20px;
            background: #f0f7f3;
            border-radius: 15px;
            font-family: 'Scheherazade New', serif;
            text-align: center;
            line-height: 1.8;
        }
        
        .surah-info {
            font-size: 18px;
            color: var(--primary);
            font-style: italic;
            margin-bottom: 20px;
        }
        
        .options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin: 30px 0;
        }
        
        .continue-option {
            background: white;
            border: 2px solid #ddd;
            border-radius: 15px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 20px;
            text-align: center;
            font-family: 'Scheherazade New', serif;
        }
        
        .continue-option:hover {
            border-color: var(--primary);
            background: #f9f9f9;
        }
        
        .continue-option.selected {
            border-color: var(--primary);
            background: rgba(26, 94, 58, 0.1);
        }
        
        .continue-option.correct {
            border-color: var(--correct);
            background: rgba(76, 175, 80, 0.1);
            color: #2E7D32;
        }
        
        .continue-option.wrong {
            border-color: var(--wrong);
            background: rgba(244, 67, 54, 0.1);
            color: #C62828;
        }
        
        .continue-result {
            font-size: 22px;
            font-weight: 600;
            margin: 20px 0;
            min-height: 30px;
            padding: 15px;
            border-radius: 15px;
        }
        
        .continue-result.result-correct {
            background: rgba(76, 175, 80, 0.1);
            color: #2E7D32;
            border: 2px solid var(--correct);
        }
        
        .continue-result.result-wrong {
            background: rgba(244, 67, 54, 0.1);
            color: #C62828;
            border: 2px solid var(--wrong);
        }
        
        /* Daily Verse */
        .daily-verse-container {
            background: linear-gradient(to right, #0d4527, #1a5e3a);
            color: white;
            padding: 40px;
            border-radius: 20px;
            margin-top: 30px;
            text-align: center;
        }
        
        .daily-verse-title {
            font-size: 28px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Scheherazade New', serif;
        }
        
        .daily-verse-title i {
            margin-right: 15px;
            color: var(--accent);
        }
        
        .verse-text {
            font-size: 28px;
            margin-bottom: 20px;
            font-family: 'Scheherazade New', serif;
            line-height: 1.8;
        }
        
        .verse-reference {
            font-size: 20px;
            font-style: italic;
            opacity: 0.9;
        }
        
        /* Hadis Collection */
        .hadis-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            margin-top: 30px;
        }
        
        .hadis-text {
            font-size: 24px;
            line-height: 1.8;
            margin-bottom: 20px;
            text-align: center;
            color: #333;
            font-family: 'Scheherazade New', serif;
        }
        
        .hadis-reference {
            font-size: 18px;
            text-align: center;
            color: var(--primary);
            font-style: italic;
            margin-bottom: 30px;
        }
        
        /* Sound Indicator */
        .sound-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 14px;
            display: none;
            z-index: 1200;
        }
        
        .sound-indicator.show {
            display: block;
            animation: fadeOut 2s forwards;
        }
        
        /* Buttons */
        .btn {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 18px;
            margin: 10px;
        }
        
        .btn:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: rgba(26, 94, 58, 0.1);
        }
        
        .btn-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.9; }
        }
        
        @keyframes fadeOut {
            0% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse-tajwid {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .pulse-animation {
            animation: pulse-tajwid 1s infinite;
        }
        
        /* Responsive */
        @media (max-width: 767px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .level-cards {
                grid-template-columns: 1fr;
            }
            
            .menu-grid {
                grid-template-columns: 1fr;
            }
            
            .logo-text {
                font-size: 36px;
            }
            
            .page-title {
                font-size: 28px;
            }
            
            .verse-text {
                font-size: 22px;
            }
            
            .sound-controls {
                top: 10px;
                right: 10px;
            }
            
            .sound-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
            
            .volume-slider-container {
                width: 150px;
            }
            
            .music-info {
                bottom: 10px;
                left: 10px;
                max-width: 200px;
            }
            
            .youtube-player {
                width: 250px;
                right: 10px;
            }
            
            .youtube-player.show {
                height: 150px;
            }
            
            .game-stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .ayah-text {
                font-size: 22px;
            }
            
            .options-grid-tajwid {
                grid-template-columns: 1fr;
            }
            
            .btn {
                min-width: 140px;
                padding: 12px 20px;
            }
            
            .verse-part {
                font-size: 20px;
            }
            
            .quiz-option, .continue-option {
                font-size: 16px;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- YouTube Background Music Player -->
    <div class="youtube-player" id="youtubePlayer">
        <!-- YouTube iframe will be inserted here by JavaScript -->
    </div>
    
    <!-- Sound Controls -->
    <div class="sound-controls">
        <button class="sound-btn" id="bgMusicBtn" title="Background Music">
            <i class="fas fa-music"></i>
        </button>
        <button class="sound-btn active" id="soundEffectsBtn" title="Sound Effects">
            <i class="fas fa-volume-up"></i>
        </button>
        <div class="volume-slider-container" id="volumeSliderContainer">
            <i class="fas fa-volume-down volume-icon"></i>
            <input type="range" min="0" max="100" value="30" class="volume-slider" id="volumeSlider">
            <i class="fas fa-volume-up volume-icon"></i>
        </div>
    </div>
    
    <!-- Music Info -->
    <div class="music-info" id="musicInfo">
        <div class="music-title" id="musicTitle">Relaxing Quranic Melody</div>
        <div class="music-artist" id="musicArtist">Background Music</div>
    </div>
    
    <!-- Sound Indicator -->
    <div class="sound-indicator" id="soundIndicator"></div>
    
    <!-- Opening Screen -->
    <div class="opening-screen" id="openingScreen">
        <div class="logo-container">
            <div class="logo-icon">
                <i class="fas fa-book-quran"></i>
            </div>
            <div class="logo-text">VerseConnect Pro</div>
            <div class="logo-subtext">Connect Your Heart with the Quran & Hadith</div>
        </div>
        <div class="touch-instruction" id="touchInstruction">
            <i class="fas fa-hand-point-up"></i> Begin with Bismillah
        </div>
    </div>
    
    <!-- Main Menu -->
    <div class="main-menu" id="mainMenu">
        <h1 class="menu-title">Begin Your Learning Journey</h1>
        <div class="menu-grid">
            <div class="menu-card" id="quranMenuBtn">
                <div class="menu-icon">
                    <i class="fas fa-quran"></i>
                </div>
                <h2 class="menu-card-title">Al-Quran</h2>
                <p class="menu-card-desc">A journey with the Quran that brings peace and guidance to the heart</p>
            </div>
            <div class="menu-card" id="hadisMenuBtn">
                <div class="menu-icon">
                    <i class="fas fa-book-open"></i>
                </div>
                <h2 class="menu-card-title">Hadith</h2>
                <p class="menu-card-desc">The Hadith of the Prophet ﷺ — a timeless guide for believers</p>
            </div>
        </div>
    </div>
    
    <!-- Al-Quran Page - 4 Columns -->
    <div class="page" id="quranPage">
        <button class="back-btn" id="backFromQuran">
            <i class="fas fa-arrow-left"></i> Kembali
        </button>
        <div class="page-header">
            <h1 class="page-title">Al-Quran</h1>
            <p class="page-subtitle">Discover the Quran through four engaging and impactful ways of learning</p>
        </div>
        <div class="page-content">
            <div class="options-grid">
                <!-- Option 1: Tajwid Game (REPLACEMENT) -->
                <div class="option-card" id="quranTajwidBtn">
                    <div class="option-icon">
                        <i class="fas fa-spell-check"></i>
                    </div>
                    <h3 class="option-title">Tajwid Identification</h3>
                    <p class="option-desc">Identify the tajwid rules found in the highlighted Quranic verses</p>
                    <button class="btn">Start the Game</button>
                </div>
                
                <!-- Option 2: Quiz Game -->
                <div class="option-card" id="quranQuizBtn">
                    <div class="option-icon">
                        <i class="fas fa-puzzle-piece"></i>
                    </div>
                    <h3 class="option-title">Qur’an Quiz</h3>
                    <p class="option-desc">Test your knowledge of the Quran through fun and engaging quizzes</p>
                    <button class="btn">Start the Quiz</button>
                </div>
                
                <!-- Option 3: Daily Verse -->
                <div class="option-card" id="quranDailyVerseBtn">
                    <div class="option-icon">
                        <i class="fas fa-star-and-crescent"></i>
                    </div>
                    <h3 class="option-title">Daily Verse</h3>
                    <p class="option-desc">Get a daily verse with its meaning and a short explanation</p>
                    <button class="btn">Verse of the Day</button>
                </div>
                
                <!-- Option 4: Continue Verse Game -->
                <div class="option-card" id="quranContinueBtn">
                    <div class="option-icon">
                        <i class="fas fa-forward"></i>
                    </div>
                    <h3 class="option-title">Complete the Verse</h3>
                    <p class="option-desc">Challenge yourself to complete partial Quran verses in 3 difficulty levels</p>
                    <button class="btn">Give it a Try !</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quran Tajwid Game Page (NEW) -->
    <div class="page" id="quranTajwidPage">
        <button class="back-btn" id="backFromQuranTajwid">
            <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="page-content game-page">
            <div class="game-container" id="tajwidGameContainer">
                <!-- Tajwid Game content will be dynamically loaded -->
            </div>
        </div>
    </div>
    
    <!-- Level Selection Page -->
    <div class="page" id="levelSelectionPage">
        <button class="back-btn" id="backFromLevelSelection">
            <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="page-content game-page">
            <div class="game-container">
                <h2 class="game-title">Choose Level</h2>
                <p class="game-description">Select your challenge level – 10 questions await at each level!</p>
                
                <div class="level-selection">
                    <div class="level-cards">
                        <!-- Easy Level -->
                        <div class="level-card easy" id="easyLevelBtn">
                            <div class="level-icon">
                                <i class="fas fa-seedling"></i>
                            </div>
                            <h3 class="level-name">Easy</h3>
                            <p class="level-desc">Simple and short sentences. Perfect for beginners.</p>
                            <div class="level-stats">
                                <div class="stat">
                                    <span class="stat-value">10</span>
                                    <span class="stat-label">Soalan</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value">10s</span>
                                    <span class="stat-label">Masa</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value">100</span>
                                    <span class="stat-label">Point</span>
                                </div>
                            </div>
                            <button class="btn" style="margin-top: 15px;">Pilih Level</button>
                        </div>
                        
                        <!-- Medium Level -->
                        <div class="level-card medium" id="mediumLevelBtn">
                            <div class="level-icon">
                                <i class="fas fa-mountain"></i>
                            </div>
                            <h3 class="level-name">Intermediate</h3>
                            <p class="level-desc">Moderate sentences for learners with some experience.</p>
                            <div class="level-stats">
                                <div class="stat">
                                    <span class="stat-value">10</span>
                                    <span class="stat-label">Soalan</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value">12s</span>
                                    <span class="stat-label">Masa</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value">150</span>
                                    <span class="stat-label">Point</span>
                                </div>
                            </div>
                            <button class="btn" style="margin-top: 15px;">Pilih Level</button>
                        </div>
                        
                        <!-- Hard Level -->
                        <div class="level-card hard" id="hardLevelBtn">
                            <div class="level-icon">
                                <i class="fas fa-fire"></i>
                            </div>
                            <h3 class="level-name">Hard</h3>
                            <p class="level-desc">Longer sentences with more complex choices. For advanced learners.</p>
                            <div class="level-stats">
                                <div class="stat">
                                    <span class="stat-value">10</span>
                                    <span class="stat-label">Soalan</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value">15s</span>
                                    <span class="stat-label">Masa</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-value">200</span>
                                    <span class="stat-label">Point</span>
                                </div>
                            </div>
                            <button class="btn" style="margin-top: 15px;">Choose Level</button>
                        </div>
                    </div>
                    
                    <div class="btn-container">
                        <button class="btn btn-secondary" id="backToQuranFromLevel">Back to the Al-Quran</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quran Quiz Page -->
    <div class="page" id="quranQuizPage">
        <button class="back-btn" id="backFromQuranQuiz">
            <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="page-content game-page">
            <div class="game-container">
                <h2 class="game-title">Quran Quiz</h2>
                <p class="game-description">Test your knowledge of the Quran through fun and engaging quizzes.</p>
                
                <div class="quiz-container">
                    <div class="quiz-question" id="quranQuizQuestion">Apakah surah pertama dalam Al-Quran?</div>
                    <div class="quiz-options" id="quranQuizOptions">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                    <div class="quiz-result" id="quranQuizResult"></div>
                    
                    <div class="btn-container">
                        <button class="btn" id="checkQuranQuizAnswer">Check Answer</button>
                        <button class="btn" id="nextQuranQuizQuestion" style="display: none;">Next Question</button>
                        <button class="btn btn-secondary" id="backToQuranFromQuiz">Back to the Al-Quran</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quran Daily Verse Page -->
    <div class="page" id="quranDailyVersePage">
        <button class="back-btn" id="backFromQuranDailyVerse">
            <i class="fas fa-arrow-left"></i> Kembali
        </button>
        <div class="page-content game-page">
            <div class="daily-verse-container">
                <h2 class="daily-verse-title">
                    <i class="fas fa-calendar-star"></i> Daily Verse
                </h2>
                <div class="verse-text" id="dailyVerseText">"Dan sesungguhnya Kami jadikan Al-Quran mudah untuk diingati, maka adakah orang yang mahu mengambil peringatan?"</div>
                <div class="verse-reference" id="dailyVerseReference">Surah Al-Qamar (54:17)</div>
                
                <div class="btn-container">
                    <button class="btn" id="newDailyVerse">Get New Verse</button>
                    <button class="btn btn-secondary" id="backToQuranFromDailyVerse">Back to the Al-Quran</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quran Continue Game Page -->
    <div class="page" id="quranContinuePage">
        <button class="back-btn" id="backFromQuranContinue">
            <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="page-content game-page">
            <div class="game-container">
                <!-- Game content will be dynamically loaded -->
            </div>
        </div>
    </div>
    
    <!-- Hadis Page - 3 Columns -->
    <div class="page" id="hadisPage">
        <button class="back-btn" id="backFromHadis">
            <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="page-header">
            <h1 class="page-title">Hadis</h1>
            <p class="page-subtitle">Pelajari hadis-hadis Nabi Muhammad SAW dengan 3 pendekatan yang menarik dan mudah difahami</p>
        </div>
        <div class="page-content">
            <div class="options-grid">
                <!-- Option 1: Quiz Game -->
                <div class="option-card" id="hadisQuizBtn">
                    <div class="option-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <h3 class="option-title">Hadith Quiz</h3>
                    <p class="option-desc">Challenge yourself with an interactive Hadith quiz!</p>
                    <button class="btn">Start the Quiz</button>
                </div>
                
                <!-- Option 2: Hadis Collection -->
                <div class="option-card" id="hadisCollectionBtn">
                    <div class="option-icon">
                        <i class="fas fa-gem"></i>
                    </div>
                    <h3 class="option-title">Handpicked Hadiths for You</h3>
                    <p class="option-desc">Discover popular Hadiths with explanations and practical applications</p>
                    <button class="btn">View Collection</button>
                </div>
                
                <!-- Option 3: Continue Hadis Game -->
                <div class="option-card" id="hadisContinueBtn">
                    <div class="option-icon">
                        <i class="fas fa-forward"></i>
                    </div>
                    <h3 class="option-title">Complete the Hadith</h3>
                    <p class="option-desc">Complete the Prophet\’s Hadith with multiple-choice answers</p>
                    <button class="btn">Try it Now !</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Hadis Quiz Page -->
    <div class="page" id="hadisQuizPage">
        <button class="back-btn" id="backFromHadisQuiz">
            <i class="fas fa-arrow-left"></i> Kembali
        </button>
        <div class="page-content game-page">
            <div class="game-container">
                <h2 class="game-title">Hadith Quiz</h2>
                <p class="game-description">Challenge yourself with an interactive Hadith quiz!</p>
                
                <div class="quiz-container">
                    <div class="quiz-question" id="hadisQuizQuestion">Apakah hadis pertama dalam Hadis 40 Imam Nawawi?</div>
                    <div class="quiz-options" id="hadisQuizOptions">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                    <div class="quiz-result" id="hadisQuizResult"></div>
                    
                    <div class="btn-container">
                        <button class="btn" id="checkHadisQuizAnswer">Check Answer</button>
                        <button class="btn" id="nextHadisQuizQuestion" style="display: none;">Next Question</button>
                        <button class="btn btn-secondary" id="backToHadisFromQuiz">Back to Hadith</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Hadis Collection Page -->
    <div class="page" id="hadisCollectionPage">
        <button class="back-btn" id="backFromHadisCollection">
            <i class="fas fa-arrow-left"></i> Back
        </button>
        <div class="page-content game-page">
            <div class="hadis-container">
                <h2 class="game-title">Handpicked Hadiths for You</h2>
                <p class="game-description">Discover popular Hadiths with explanations and practical applications.</p>
                
                <div class="hadis-text" id="hadisCollectionText">"Sesungguhnya setiap amalan itu bergantung kepada niat, dan sesungguhnya setiap orang akan mendapat apa yang diniatkannya."</div>
                <div class="hadis-reference" id="hadisCollectionReference">HR. Al-Bukhari dan Muslim</div>
                
                <div class="btn-container">
                    <button class="btn" id="nextHadisInCollection">Next Hadith</button>
                    <button class="btn btn-secondary" id="backToHadisFromCollection">Back to Hadith</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Hadis Continue Page -->
    <div class="page" id="hadisContinuePage">
        <button class="back-btn" id="backFromHadisContinue">
            <i class="fas fa-arrow-left"></i> back
        </button>
        <div class="page-content game-page">
            <div class="game-container">
                <h2 class="game-title">Complete the Hadith</h2>
                <p class="game-description">Complete the Prophet\’s Hadith with multiple-choice answers.</p>
                
                <div class="continue-game">
                    <div class="verse-part" id="hadisPartialText">"Sesungguhnya setiap amalan itu bergantung kepada niat, ..."</div>
                    
                    <div class="options-container" id="hadisContinueOptions">
                        <!-- Options will be generated by JavaScript -->
                    </div>
                    
                    <div class="continue-result" id="hadisContinueResult"></div>
                    
                    <div class="btn-container">
                        <button class="btn" id="checkHadisContinueAnswer">Check Answer</button>
                        <button class="btn" id="nextHadisContinueQuestion" style="display: none;">Next question</button>
                        <button class="btn btn-secondary" id="backToHadisFromContinue">Back to Hadith</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio Elements for Sound Effects ONLY -->
    <audio id="clickSound" preload="auto"></audio>
    <audio id="pageTransitionSound" preload="auto"></audio>
    <audio id="correctSound" preload="auto"></audio>
    <audio id="wrongSound" preload="auto"></audio>
    <audio id="flipCardSound" preload="auto"></audio>
    <audio id="matchSound" preload="auto"></audio>
    <audio id="buttonHoverSound" preload="auto"></audio>

    <script>
        // ================= DATA TAJWID GAME ================= 
        const tajwidQuestions = [
            {
                ayah: "تَبَـٰرَكَ ٱلَّذِى بِيَدِهِ ٱلْمُلْكُ وَهُوَ عَلَىٰ كُلِّ شَىْءٍۢ قَدِيرٌ",
                reference: "Al-Mulk (67:1)",
                highlighted: "شَىْءٍۢ قَدِيرٌ",
                question: "Apakah hukum tajwid untuk perkataan 'شَىْءٍۢ قَدِيرٌ'?",
                options: [
                    { text: "Mad Asli", correct: false },
                    { text: "Mad Jaiz Munfasil", correct: false },
                    { text: "Idgham Ma\'al Ghunnah", correct: false },
                    { text: "Ikhfa\' Haqiqi", correct: true }
                ],
                explanation: "Perkataan 'شَىْءٍۢ قَدِيرٌ' mengandungi hukum Ikhfa' Haqiqi kerana terdapat tanwin bertemu dengan huruf ق.",
                details: "Ikhfa\' Haqiqi berlaku apabila nun mati atau tanwin bertemu dengan 15 huruf ikhfa\'. Bunyi samar, dengan ghunnah 2 harakat.",
                difficulty: "medium",
                hint: "Perhatikan huruf selepas tanwin dalam perkataan tersebut."
            },
            {
                ayah: "وَجَنَّـٰتٍ أَلْفَافًا",
                reference: "An-Naba\' (78:16)",
                highlighted: "أَحَدٌ",
                question: "Apakah hukum tajwid untuk perkataan 'وَجَنَّـٰتٍ أَلْفَافًا'?",
                options: [
                    { text: "Izhar Halqi", correct: true },
                    { text: "Idgham Bila Ghunnah", correct: false },
                    { text: "Mad Wajib Muttasil", correct: false },
                    { text: "Qalqalah", correct: false }
                ],
                explanation: "Perkataan 'وَجَنَّـٰتٍ أَلْفَافًا' mengandungi hukum Izhar Halqi kerana tanwin kasrah bertemu dengan huruf hamzah (ء).",
                details: "Izhar Halqi berlaku apabila nun mati atau tanwin bertemu dengan salah satu huruf halqi (ء, ه, ع, ح, غ, خ). Dibaca dengan jelas tanpa dengung.",
                difficulty: "easy",
                hint: "Huruf selepas tanwin adalah huruf halqi."
            },
            {
                ayah: "إِلَّا مَا شَآءَ ٱللَّهُ ۚ إِنَّهُۥ يَعْلَمُ ٱلْجَهْرَ وَمَا يَخْفَىٰ",
                reference: "Al-A\'la (87:7)",
                highlighted: "شَآءَ",
                question: "Apakah hukum tajwid untuk perkataan 'شَآءَ'?",
                options: [
                    { text: "Mad Jaiz Munfasil", correct: false },
                    { text: "Mad Wajib Muttasil", correct: true },
                    { text: "Mad Aridh Lissukun", correct: false },
                    { text: "Mad Lazim", correct: false }
                ],
                explanation: "Perkataan 'شَآءَ' mengandungi hukum Mad Wajib Muttasil kerana mad asli bertemu hamzah dalam satu kalimah.",
                details: "Mad Wajib Muttasil berlaku apabila mad asli (ا, و, ي) bertemu dengan huruf hamzah dalam satu kalimah. Panjangnya 6 harakat.",
                difficulty: "medium",
                hint: "Perhatikan huruf mad diikuti hamzah."
            },
            {
                ayah: "قُلُوبٌۭ يَوْمَئِذٍۢ وَاجِفَةٌ",
                reference: "An-Naazi\'at (79:8)",
                highlighted: "يَوْمَئِذٍۢ وَاجِفَةٌ",
                question: "Apakah hukum tajwid untuk perkataan 'يَوْمَئِذٍۢ وَاجِفَةٌ'?",
                options: [
                    { text: "Idgham Bi Ghunnah", correct: true },
                    { text: "Izhar Halqi", correct: false },
                    { text: "Ikhfa\' Haqiqi", correct: false },
                    { text: "Iqlab", correct: false }
                ],
                explanation: "Perkataan 'يَوْمَئِذٍۢ وَاجِفَةٌ' mengandungi hukum Idgham Bi Ghunnah kerana tanwin kasrah bertemu dengan huruf و.",
                details: "Idgham Bi Ghunnah berlaku apabila Nun Mati atau Tanwin bertemu dengan huruf “ي ن م و” dan dibaca dengan 2 harakat.",
                difficulty: "hard",
                hint: "Perhatikan cara tanwin dibaca ketika bertemu huruf و."
            },
            {
                ayah: "أَن جَآءَهُ ٱلْأَعْمَىٰ",
                reference: "Abasa (80:2)",
                highlighted: "جَآءَهُ",
                question: "Apakah hukum tajwid untuk perkataan 'جَآءَهُ'?",
                options: [
                    { text: "Mad Aridh Lissukun", correct: false },
                    { text: "Mad Wajib Muttasil", correct: true },
                    { text: "Mad Jaiz Munfasil", correct: false },
                    { text: "Mad Lazim", correct: false }
                ],
                explanation: "Perkataan 'جَآءَهُ' mengandungi hukum Mad Wajib Muttasil kerana mad badal bertemu hamzah dalam satu kalimah.",
                details: "berlaku apabila mad asli (ا, و, ي) bertemu dengan huruf hamzah dalam satu kalimah. Panjangnya 6 harakat.",
                difficulty: "medium",
                hint: "Perhatikan huruf mad diikuti hamzah dalam kalimah yang sama."
            },
            {
                ayah: "وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ",
                reference: "Al-Falaq (113:5)",
                highlighted: "حَسَدَ",
                question: "Apakah hukum tajwid untuk perkataan 'حَسَدَ'?",
                options: [
                    { text: "Izhar Halqi'", correct: false },
                    { text: "Iqlab", correct: false },
                    { text: "Ikhfa\' Haqiqi", correct: false },
                    { text: "Qalqalah", correct: true }
                ],
                explanation: "Perkataan 'حَسَدَ' mengandungi hukum Qalqalah kerana huruf د berada di tempat waqaf.",
                details: "Qalqalah berlaku apabila huruf qalqalah (ب ج د ق ط) berada dalam keadaan sukun, bunyinya terpantul sedikit supaya jelas.",
                difficulty: "hard",
                hint: "Perhatikan huruf terakhir dalam ayat tersebut."
            },
            {
                ayah: "وَالْعَصْرِ إِنَّ الْإِنسَانَ لَفِي خُسْرٍ",
                reference: "Al-Asr (103:1-2)",
                highlighted: "الْإِنسَانَ",
                question: "Apakah hukum tajwid untuk perkataan 'الْإِنسَانَ'?",
                options: [
                    { text: "Izhar Halqi", correct: false },
                    { text: "Ikhfa\' Haqiqi", correct: true },
                    { text: "Idgham Ma\'al Ghunnah", correct: false },
                    { text: "Iqlab", correct: false }
                ],
                explanation: "Perkataan 'الْإِنسَانَ' mengandungi hukum Ikhfa\' Haqiqi kerana nun mati bertemu dengan huruf س.",
                details: "Ikhfa\' Haqiqi berlaku apabila nun mati atau tanwin bertemu dengan 15 huruf ikhfa\'. Bunyi nun mati dibaca samar-samar dengan dengung.",
                difficulty: "easy",
                hint: "Huruf س termasuk dalam huruf ikhfa."
            },
            {
                ayah: "إِنَّ ٱلَّذِينَ ءَامَنُوا۟ وَعَمِلُوا۟ ٱلصَّـٰلِحَـٰتِ أُو۟لَـٰٓئِكَ هُمْ خَيْرُ ٱلْبَرِيَّةِ",
                reference: "Al-Bayyinah (98:7)",
                highlighted: "ٱلَّذِينَ",
                question: "Apakah hukum tajwid untuk perkataan 'ٱلَّذِينَ'?",
                options: [
                    { text: "Mad Asli", correct: true },
                    { text: "Mad Jaiz Munfasil", correct: false },
                    { text: "Mad Wajib Muttasil", correct: false },
                    { text: "Mad Lazim", correct: false }
                ],
                explanation: "Perkataan 'ٱلَّذِينَ' mengandungi hukum Mad Asli kerana terdapat huruf mad ي berbaris mati.",
                details: "Mad Asli/Tabii adalah mad yang asli/biasa, berlaku apabila huruf mad (ا, و, ي) berbaris mati. Panjangnya 2 harakat.",
                difficulty: "easy",
                hint: "Perhatikan huruf ي dalam perkataan tersebut."
            },
            {
                ayah: "أَن كَانَ ذَا مَالٍۢ وَبَنِينَ",
                reference: "Al-Qalam (68:14)",
                highlighted: "مَالٍۢ وَبَنِينَ",
                question: "Apakah hukum tajwid untuk perkataan 'مَالٍۢ وَبَنِينَ'?",
                options: [
                    { text: "Idgham Ma\'al Ghunnah", correct: true },
                    { text: "Idgham Bila Ghunnah", correct: false },
                    { text: "Izhar Halqi", correct: false },
                    { text: "Ikhfa\' Haqiqi", correct: false }
                ],
                explanation: "Perkataan 'مَالٍۢ وَبَنِينَ' mengandungi hukum Idgham Ma\'al Ghunnah kerana lam mati bertemu dengan huruf و.",
                details: "Idgham Ma\'al Ghunnah berlaku apabila nun mati atau tanwin bertemu dengan huruf ي, ن, م, و. Dibaca dengan dengung 2 harakat.",
                difficulty: "medium",
                hint: "Perhatikan tanwin bertemu dengan huruf و."
            },
            {
                ayah: "فَكَانَتْ هَبَآءًۭ مُّنۢبَثًّۭا",
                reference: "Al-Waqi'ah (56:6)",
                highlighted: "مُّنۢبَثًّۭا",
                question: "Apakah hukum tajwid untuk perkataan 'مُّنۢبَثًّۭا'?",
                options: [
                    { text: "Idgham Haqiqi", correct: false },
                    { text: "Ikhfa Halqi", correct: false },
                    { text: "Iqlab", correct: true },
                    { text: "Izhar Halqi", correct: false }
                ],
                explanation: "Perkataan 'مُّنۢبَثًّۭا' mengandungi hukum Iqlab kerana nun mati bertemu dengan huruf ب.",
                details: "Iqlab berlaku apabila nun mati bertemu dengan huruf iqlab iaitu huruf ب sahaja dan dibaca dengung dengan 2 harakat .",
                difficulty: "hard",
                hint: "Perhatikan huruf mim kecil."
            }
        ];

        // ================= DATA QURAN CONTINUE GAME (10 SOALAN SETIAP LEVEL) ================= 
        const versesDatabase = {
            easy: [
                {first:"وَٱلَّذِينَ كَفَرُوا۟ بِـَٔايَـٰتِنَا هُمْ أَصْحَـٰبُ",options:["بِٱلْمَرْحَمَةِ","ٱلْمَيْمَنَةِ","ٱلْمَشْـَٔمَةِ"],correct:2,surah:"Al-Balad"},
                {first:"إِلَّا مَا شَآءَ ٱللَّهُ ۚ إِنَّهُۥ يَعْلَمُ ٱلْجَهْرَ وَمَا",options:["يَخْفَىٰ","يَخْشَىٰ","تَنسَىٰٓ"],correct:0,surah:"Al-A'la"},
                {first:"عَبْدًا إِذَا صَلَّىٰٓ",options:["أَرَءَيْتَ ٱلَّذِى يَنْهَىٰ","أَرَءَيْتَ إِن كَذَّبَ وَتَوَلَّىٰٓ","أَرَءَيْتَ إِن كَانَ عَلَى ٱلْهُدَىٰٓ"],correct:2,surah:"Al-'Alaq"},
                {first:"وَهُمْ عَلَىٰ مَا يَفْعَلُونَ بِٱلْمُؤْمِنِينَ",options:["قُعُودٌۭ","شُهُودٌۭ","ٱلْوَقُودِ"],correct:1,surah:"Al-Buruj"},
                {first:"وَإِذَا ٱلْبِحَارُ",options:["ٱنتَثَرَتْ","بُعْثِرَتْ","فُجِّرَتْ"],correct:2,surah:"An-Infithar"},
                {first:"وَالْعَصْرِ إِنَّ الْإِنسَانَ",options:["لَفِي خُسْرٍ","لَفِي ضَلَالٍ","لَفِي غَفْلَةٍ"],correct:0,surah:"Al-'Asr"},
                {first:"إِنَّ ٱلَّذِينَ ءَامَنُوا۟ وَعَمِلُوا۟ ٱلصَّـٰلِحَـٰتِ أُو۟لَـٰٓئِكَ هُمْ",options:["خَيْرُ ٱلْبَرِيَّةِ","دِينُ ٱلْقَيِّمَةِ","شَرُّ ٱلْبَرِيَّةِ"],correct:0,surah:"Al-Bayyinah"},
                {first:"فَسَنُيَسِّرُهُۥ لِلْيُسْرَىٰ",options:["وَكَذَّبَ بِٱلْحُسْنَىٰ","وَأَمَّا مَنۢ بَخِلَ وَٱسْتَغْنَىٰ","وَمَا يُغْنِى عَنْهُ مَالُهُۥٓ إِذَا تَرَدَّىٰٓ"],correct:1,surah:"Al-Lail"},
                {first:"أَفَلَا يَنظُرُونَ إِلَى ٱلْإِبِلِ كَيْفَ خُلِقَتْ",options:["وَإِلَى ٱلْجِبَالِ كَيْفَ نُصِبَتْ","وَإِلَى ٱلسَّمَآءِ كَيْفَ رُفِعَتْ","وَإِلَى ٱلْأَرْضِ كَيْفَ سُطِحَتْ"],correct:1,surah:"Al-Ghasyiyah"},
                {first:"وَتَأْكُلُونَ ٱلتُّرَاثَ أَكْلًۭا لَّمًّۭا",options:["كَلَّآ إِ�َا دُكَّتِ ٱلْأَرْضُ دَكًّۭا دَكًّۭا","وَتُحِبُّونَ ٱلْمَالَ حُبًّۭا جَمًّۭا","وَجَآءَ رَبُّكَ وَٱلْمَلَكُ صَفًّۭا صَفًّۭا"],correct:1,surah:"Al-Fajr"}
            ],

            medium: [
                {first:"جَزَآءًۭ مِّن رَّبِّكَ عَطَآءً حِسَابًۭا",options:["يَوْمَ يَقُومُ ٱلرُّوحُ وَٱلْمَلَـٰٓئِكَةُ صَفًّۭا ۖ لَّا يَتَكَلَّمُونَ إِلَّا مَنْ أَذِنَ لَهُ ٱلرَّحْمَـٰنُ وَقَالَ صَوَابًۭا"," ذَٰلِكَ ٱلْيَوْمُ ٱلْحَقُّ ۖ فَمَن شَآءَ ٱتَّخَذَ إِلَىٰ رَبِّهِۦ مَـَٔابًا","رَّبِّ ٱلسَّمَـٰوَٰتِ وَٱلْأَرْضِ وَمَا بَيْنَهُمَا ٱلرَّحْمَـٰنِ ۖ لَا يَمْلِكُونَ مِنْهُ خِطَابًۭا"],correct:2,surah:"An-Naba'",ayat:36},
                {first:"أَخْرَجَ مِنْهَا مَآءَهَا وَمَرْعَىٰهَا",options:["وَأَغْطَشَ لَيْلَهَا وَأَخْرَجَ ضُحَىٰهَا","وَٱلْأَرْضَ بَعْدَ ذَٰلِكَ دَحَىٰهَآ","وَٱلْجِبَالَ أَرْسَىٰهَا"],correct:2,surah:"An-Naaziat",ayat:31},
                {first:"وُجُوهٌۭ يَوْمَئِذٍۢ مُّسْفِرَةٌۭ",options:["ضَاحِكَةٌۭ مُّسْتَبْشِرَةٌۭ","يَتُوبُوا","لِكُلِّ ٱمْرِئٍۢ مِّنْهُمْ يَوْمَئِذٍۢ شَأْنٌۭ يُغْنِيهِ","وَوُجُوهٌۭ يَوْمَئِذٍ عَلَيْهَا غَبَرَةٌۭ"],correct:0,surah:"Ar-Abasa",ayat:38},
                {first:"أَجْرَمُوا۟ كَانُوا۟ مِنَ ٱلَّذِينَ ءَامَنُوا۟ يَضْحَكُونَ",options:["وَإِذَا ٱنقَلَبُوٓا۟ إِلَىٰٓ أَهْلِهِمُ ٱنقَلَبُوا۟ فَكِهِينَ","وَإِذَا مَرُّوا۟ بِهِمْ يَتَغَامَزُونَ ","وَإِذَا رَأَوْهُمْ قَالُوٓا۟ إِنَّ هَـٰٓؤُلَآءِ لَضَآلُّونَ"],correct:1,surah:"Al-Muthafifin",ayat:29},
                {first:"وَإِذَا ٱلْمَوْءُۥدَةُ سُئِلَتْ",options:["بِأَىِّ ذَنۢبٍۢ قُتِلَتْ","وَإِذَا ٱلصُّحُفُ نُشِرَتْ","وَإِذَا ٱلسَّمَآءُ كُشِطَتْ"],correct:0,surah:"At-Takwir",ayat:8},
                {first:"وَإِنَّ عَلَيْكُمْ لَحَـٰفِظِينَ",options:["كِرَامًۭا كَـٰتِبِينَ","يَعْلَمُونَ مَا تَفْعَلُونَ","وَإِنَّ ٱلْفُجَّارَ لَفِى جَحِيمٍۢ"],correct:0,surah:"Al-Infitaar",ayat:10},
                {first:"يَوْمَ يَقُومُ ٱلرُّوحُ وَٱلْمَلَـٰٓئِكَةُ صَفًّۭا",options:["لَّا يَتَكَلَّمُونَ إِلَّا مَنْ أَذِنَ لَهُ ٱلرَّحْمَـٰنُ وَقَالَ صَوَابًۭا","ذَٰلِكَ ٱلْيَوْمُ ٱلْحَقُّ ۖ فَمَن شَآءَ ٱتَّخَذَ إِلَىٰ رَبِّهِۦ مَـَٔابًا","لَا يَمْلِكُونَ مِنْهُ خِطَابًۭا"],correct:0,surah:"An-Naba'",ayat:38},
                {first:"وَأَمَّا مَنْ أُوتِىَ كِتَـٰبَهُۥ وَرَآءَ ظَهْرِهِۦ",options:["فَسَوْفَ يَدْعُوا۟ ثُبُورًۭا","فَسَوْفَ يُحَاسَبُ حِسَابًۭا يَسِيرًۭا","فَبَشِّرْهُم بِعَذَابٍ أَلِيمٍ"],correct:0,surah:"Al-Insyiqaq",ayat:10},
                {first:"وَٱللَّهُ مِن وَرَآئِهِم مُّحِيطٌۢ",options:["بَلْ هُوَ قُرْءَانٌۭ مَّجِيدٌۭ","فِى لَوْحٍۢ مَّحْفُوظٍۭ","وَإِنَّهُۥ لَقَسَمٌۭ لَّوْ تَعْلَمُونَ عَظِيمٌ"],correct:0,surah:"Al-Buruj",ayat:20},
                {first:"فَإِنَّ مَعَ ٱلْعُسْرِ يُسْرًا",options:["إِنَّ مَعَ ٱلْعُسْرِ يُسْرًۭا","فَإِذَا فَرَغْتَ فَٱنصَبْ","وَإِلَىٰ رَبِّكَ فَٱرْغَب"],correct:0,surah:"Al-Insyirah",ayat:5}
            ],

            hard: [
                {first:"مُّتَّكِئِينَ عَلَيْهَا مُتَقَابِلِينَ",options:["يَطُوفُ عَلَيْهِمْ وِلْدَانٌ مُّخَلَّدُونَ","أَفَرَءَیۡتُمُ ٱلۡمَاۤءَ ٱلَّذِی تَشۡرَبُونَ","بِأَكۡوَابࣲ وَأَبَارِیقَ وَكَأۡسࣲ مِّن مَّعِینࣲ"],correct:0,surah:"Al-Waqiah",ayat:16},
                {first:"عَلَىٰۤ أَن نُّبَدِّلَ أَمۡثَـٰلَكُمۡ وَنُنشِئَكُمۡ فِی مَا لَا تَعۡلَمُونَ",options:["ءَأَنتُمۡ تَزۡرَعُونَهُۥۤ أَمۡ نَحۡنُ ٱلزَّ ٰ⁠رِعُونَ","وَلَقَدۡ عَلِمۡتُمُ ٱلنَّشۡأَةَ ٱلۡأُولَىٰ فَلَوۡلَا تَذَكَّرُونَ","وَتَجۡعَلُونَ رِزۡقَكُمۡ أَنَّكُمۡ تُكَذِّبُونَ"],correct:1,surah:"Al-Waqiah",ayat:61},
                {first:"هَـٰذِهِۦ جَهَنَّمُ ٱلَّتِی یُكَذِّبُ بِهَا ٱلۡمُجۡرِمُونَ",options:["یَطُوفُونَ بَیۡنَهَا وَبَیۡنَ حَمِیمٍ ءَانࣲ","أوَلِمَنۡ خَافَ مَقَامَ رَبِّهِۦ جَنَّتَانِ","أفَبِأَیِّ ءَالَاۤءِ رَبِّكُمَا تُكَذِّبَانِ"],correct:0,surah:"Ar-Rahman",ayat:43},
                {first:"فَمَا بَكَتۡ عَلَیۡهِمُ ٱلسَّمَاۤءُ وَٱلۡأَرۡضُ وَمَا كَانُوا۟ مُنظَرِینَ",options:["وَمَا خَلَقۡنَا ٱلسَّمَـٰوَ ⁠‌َ⁠تِ وَٱلۡأَرۡضَ وَمَا بَیۡنَهُمَا لَـٰعِبِینَ","وَلَقَدِ ٱخۡتَرۡنَـٰهُمۡ عَلَىٰ عِلۡمٍ عَلَى ٱلۡعَـٰلَمِینَ","وَلَقَدۡ نَجَّیۡنَا بَنِیۤ إِسۡرَ ⁠‌َ⁠ۤءِیلَ مِنَ ٱلۡعَذَابِ ٱلۡمُهِینِ"],correct:2,surah:"Ad-Dukhan",ayat:29},
                {first:"یَلۡبَسُونَ مِن سُندُسࣲ وَإِسۡتۡبۡرَقࣲ مُّتَقَـٰبِلِینَ",options:["كَذَ ⁠‌َ⁠لِكَۖ وَأَوۡرَثۡنَـٰهَا قَوۡمًا ءَاخَرِینَ","كَذَ ⁠‌َ⁠لِكَ وَزَوَّجۡنَـٰهُم بِحُورٍ عِینࣲ","كَٱلۡمُهۡلِ یَغۡلِی فِی ٱلۡبُطُونِ"],correct:1,surah:"Ad-Dukhan",ayat:53},
                {first:"أَمۡ أَمِنتُم مَّن فِی ٱلسَّمَاۤءِ أَن یُرۡسِلَ عَلَیۡكُمۡ حَاصِبࣰاۖ فَسَتَعۡلَمُونَ كَیۡفَ نَذِیرِ",options:["ءَأَمِنتُم مَّن فِی ٱلسَّمَاۤءِ أَن یَخۡسِفَ بِكُمُ ٱلۡأَرۡضَ فَإِذَا هِیَ تَمُورُ","وَلَقَدۡ كَذَّبَ ٱلَّذِینَ مِن قَبۡلِهِمۡ فَكَیۡفَ كَانَ نَكِیرِ","قُلۡ أَرَءَیۡتُمۡ إِنۡ أَهۡلَكَنِیَ ٱللَّهُ وَمَن مَّعِیَ أَوۡ رَحِمَنَا فَمَن یُجِیرُ ٱلۡكَـٰفِرِینَ مِنۡ عَذَابٍ أَلِیمࣲ"],correct:1,surah:"Al-Mulk",ayat:17},
                {first:"ثُمَّ سَوَّىٰهُ وَنَفَخَ فِیهِ مِن رُّوحِهِۦۖ وَجَعَلَ لَكُمُ ٱلسَّمۡعَ وَٱلۡأَبۡصَـٰرَ وَٱلۡأَفۡـِٔدَةَۚ قَلِیلࣰا مَّا تَشۡكُرُونَ",options:["أَمَّا ٱلَّذِینَ ءَامَنُوا۟ وَعَمِلُوا۟ ٱلصَّـٰلِحَـٰتِ فَلَهُمۡ جَنَّـٰتُ ٱلۡمَأۡوَىٰ نُزُلَۢا بِمَا كَانُوا۟ یَعۡمَلُونَ","وَأَمَّا ٱلَّذِینَ فَسَقُوا۟ فَمَأۡوَىٰهُمُ ٱلنَّارُۖ كُلَّمَاۤ أَرَادُوۤا۟ أَن یَخۡرُجُوا۟ مِنۡهَاۤ أُعِیدُوا۟ فِیهَا وَقِیلَ لَهُمۡ ذُوقُوا۟ عَذَابَ ٱلنَّارِ ٱلَّذِی كُنتُم بِهِۦ تُكَذِّبُونَ","وَقَالُوۤا۟ أَءِذَا ضَلَلۡنَا فِی ٱلۡأَرۡضِ أَءِنَّا لَفِی خَلۡقࣲ جَدِیدِۚ بَلۡ هُم بِلِقَاۤءِ رَبِّهِمۡ كَـٰفِرُونَ"],correct:2,surah:"As-Sajdah",ayat:10},
                {first:"لِلَّهِ مَا فِی ٱلسَّمَـٰوَ ⁠‌َ⁠تِ وَٱلۡأَرۡضِۚ إِنَّ ٱللَّهَ هُوَ ٱلۡغَنِیُّ ٱلۡحَمِيدُ",options:["وَلَوۡ أَنَّمَا فِی ٱلۡأَرۡضِ مِن شَجَرَةٍ أَقۡلَـٰمࣱ وَٱلۡبَحۡرُ یَمُدُّهُۥ مِنۢ بَعۡدِهِۦ سَبۡعَةُ أَبۡحُرࣲ مَّا نَفِدَتۡ كَلِمَـٰتُ ٱللَّهِۚ إِنَّ ٱللَّهَ عَزِیزٌ حَكِيمࣱ","ذَ ⁠‌َ⁠لِكَ بِأَنَّ ٱللَّهَ هُوَ ٱلۡحَقُّ وَأَنَّ مَا یَدۡعُونَ مِن دُونِهِ ٱلۡبَـٰطِلُ وَأَنَّ ٱللَّهَ هُوَ ٱلۡعَلِیُّ ٱلۡكَبِيرُ","مَّا خَلۡقُكُمۡ وَلَا بَعۡثُكُمۡ إِلَّا كَنَفۡسࣲ وَ ⁠‌َ⁠حِدَةٍۚ إِنَّ ٱللَّهَ سَمِيعُۢ بَصِيرٌ"],correct:0,surah:"Luqman",ayat:26},
                {first:"وَإِنَّا لَجَـٰعِلُونَ مَا عَلَیۡهَا صَعِيدࣰا جُرُزًا",options:["فَلَعَلَّكَ بَـٰخِعࣱ نَّفۡسَكَ عَلَىٰۤ ءَاثَـٰرِهِمۡ إِن لَّمۡ یُؤۡمِنُوا۟ بِهَـٰذَا ٱلۡحَدِیثِ أَسَفًا","أَمۡ حَسِبۡتَ أَنَّ أَصۡحَـٰبَ ٱلۡكَهۡفِ وَٱلرَّقِیمِ كَانُوا۟ مِنۡ ءَایَـٰتِنَا عَجَبًا","إِذۡ أَوَى ٱلۡفِتۡیَةُ إِلَى ٱلۡكَهۡفِ فَقَالُوا۟ رَبَّنَاۤ ءَاتِنَا مِن لَّدُنكَ رَحۡمَةࣰ وَهَیِّئۡ لَنَا مِنۡ أَمۡرِنَا رَشَدࣰا"],correct:1,surah:"Al-Kahfi",ayat:8},
                {first:"إِنَّ ٱلَّذِینَ ءَامَنُوا۟ وَعَمِلُوا۟ ٱلصَّـٰلِحَـٰتِ كَانَتۡ لَهُمۡ جَنَّـٰتُ ٱلۡفِرۡدَوۡسِ نُزُلًا",options:["ٱلَّذِینَ كَانَتۡ أَعۡیُنُهُمۡ فِی غِطَاۤءٍ عَن ذِكۡرِی وَكَانُوا۟ لَا یَسۡتَطِیعُونَ سَمۡعًا","ذَ ⁠‌َ⁠لِكَ جَزَاۤؤُهُمۡ جَهَنَّمُ بِمَا كَفَرُوا۟ وَٱتَّخَذُوۤا۟ ءَایَـٰتِی وَرُسُلِی هُزُوًا","خَـٰلِدِینَ فِیهَا لَا یَبۡغُونَ عَنۡهَا حِوَلࣰا"],correct:2,surah:"Al-Kahfi",ayat:107}
            ]
        };
        
        // Quran Quiz Data
        const quranQuizData = [
            {
                question: "What is the first surah in Al-Quran?",
                options: [
                    "Al-Fatihah",
                    "Al-Baqarah",
                    "Al-Ikhlas",
                    "An-Nas"
                ],
                correct: 0
            },
            {
                question: "How many surah in Al-Quran?",
                options: [
                    "115",
                    "120",
                    "114",
                    "30"
                ],
                correct: 2
            },
            {
                question: "Which is the longest surah in the Quran?",
                options: [
                    "Surah Yasin",
                    "Surah ali-Imran",
                    "Surah Al-Baqarah",
                    "Surah an-Nisa\'"
                ],
                correct: 2
            },
            {
                question: "Which surah does not begin with Bismillah?",
                options: [
                    "Surah at-Tariq",
                    "Surah at-Taubah",
                    "Surah at-Talaq",
                    "Surah al-Muthaffifin"
                ],
                correct: 1
            },
            {
                question: "Which is the shortest surah in the Quran?",
                options: [
                    "Surah al-Ikhlas",
                    "Surah an-Nasr",
                    "Surah al-Asr",
                    "Surah al-Kawthar"
                ],
                correct: 3
            },
            {
                question: "Where was the first revelation revealed?",
                options: [
                    "Madinah",
                    "Mount Uhud",
                    "Masjid Al-Haram",
                    "Cave Hira\’"
                ],
                correct: 3
            }
        ];
        
        // Daily Verses Data
        const dailyVerses = [
            {
                text: '"Dan sesungguhnya Kami jadikan Al-Quran mudah untuk diingati, maka adakah orang yang mahu mengambil peringatan?"',
                reference: 'Surah Al-Qamar (54:17)'
            },
            {
                text: '"Sesungguhnya solat itu mencegah dari perbuatan keji dan mungkar."',
                reference: 'Surah Al-Ankabut (29:45)'
            },
            {
                text: '"Wahai orang-orang yang beriman! Mohonlah pertolongan (kepada Allah) dengan sabar dan solat. Sesungguhnya Allah beserta orang-orang yang sabar."',
                reference: 'Surah Al-Baqarah (2:153)'
            },
            {
                text: '"Dan janganlah kamu berputus asa dari rahmat Allah. Sesungguhnya tiada berputus asa dari rahmat Allah melainkan kaum yang kafir."',
                reference: 'Surah Yusuf (12:87)'
            },
            {
                text: '"Sesungguhnya dengan mengingati Allah, hati menjadi tenang."',
                reference: 'Surah Ar-Ra\'d (13:28)'
            },
            {
                text: '"Sesungguhnya bersama kesusahan itu ada kemudahan."',
                reference: 'Surah Al-Insyiraah (94:6)'
            },
            {
                text: '"Sesungguhnya bersama kesusahan itu ada kemudahan."',
                reference: 'Surah Al-Insyiraah (94:6)'
            } 
        ];
        
        // Hadis Quiz Data
        const hadisQuizData = [
            {
                question: "What are the first hadith in Hadith 40 Imam Nawawi?",
                options: [
                    "Indeed, actions are judged by intentions",
                    "Islam is built upon five pillars",
                    "Religion is sincere advice",
                    "The lawful is clear and the unlawful is clear"
                ],
                correct: 0
            },
            {
                question: "Imam an-Nawawi was from:",
                options: [
                    "Egypt",
                    "Madinah",
                    "Sham",
                    "Iraq"
                ],
                correct: 2
            },
            {
                question: "How many hadith are actually included in Imam an-Nawawi\’s Forty Hadith collection?",
                options: [
                    "40",
                    "41",
                    "42",
                    "45"
                ],
                correct: 2
            },
            {
                question: "Which of the following is NOT one of the pillars of Islam?",
                options: [
                    "Declaration of faith (Shahadah)",
                    "Performing the five daily prayers",
                    "Belief in angels",
                    "Performing Hajj"
                ],
                correct: 2
            },
            {
                question: "Hadith 'Tidak sempurna iman seseorang sehingga dia mencintai saudaranya seperti dia mencintai dirinya sendiri' narrated by?",
                options: [
                    "Imam Bukhari",
                    "Imam Muslim",
                    "Imam Tirmidzi",
                    "Imam An-Nasa'i"
                ],
                correct: 1
            },
            {
                question: "The hadith about halal, haram, and doubtful matters aims to:",
                options: [
                    "Increase general knowledge",
                    "Purify the heart and actions",
                    "Encourage voluntary worship",
                    "Protect faith only"
                ],
                correct: 1
            },
            {
                question: "The hadith “Religion is sincere advice (Nasihah)” refers to sincerity towards:",
                options: [
                    "Allah only",
                    "The Prophet only",
                    "Leaders only",
                    "Allah, His Book, His Messenger, leaders, and the Muslim community"
                ],
                correct: 3
            },
            {
                question: "The hadith “Whoever believes in Allah and the Last Day should speak good or remain silent” teaches about:",
                options: [
                    "Courage",
                    "Etiquette of speech (good manners in speaking)",
                    "Leadership",
                    "Patience"
                ],
                correct: 1
            },
            {
                question: "The hadith “The most beloved deeds to Allah are those that are done consistently, even if they are small” teaches about:",
                options: [
                    "Quantity of deeds",
                    "Leadership",
                    "Courage",
                    "Sincerity and consistency"
                ],
                correct: 3
            },
            {
                question: "The hadith that forbids envy (hasad) and hatred emphasizes:",
                options: [
                    "Unity and brotherhood",
                    "Wealth",
                    "Knowledge",
                    "Worship"
                ],
                correct: 0
            }
        ];
        
        // Hadis Continue Game Data
        const hadisContinueData = [
            {
                partial: '"إنَّما الأعْمالُ بالنِّيّاتِ، وإنَّما لِكُلِّ امْرِئٍ ما نَوى، فمَن كانَتْ هِجْرَتُهُ إلى …….. يُصِيبُها، أوْ إلى امْرَأَةٍ يَنْكِحُها، فَهِجْرَتُهُ إلى ما هاجَرَ إلَيْهِ. (رواه البخاري)"',
                options: [
                    '"جنة"',
                    '"دنيا"',
                    '"مال"',
                ],
                correct: 1,
                full: '"إنَّما الأعْمالُ بالنِّيّاتِ، وإنَّما لِكُلِّ امْرِئٍ ما نَوى، فمَن كانَتْ هِجْرَتُهُ إلى دنيا يُصِيبُها، أوْ إلى امْرَأَةٍ يَنْكِحُها، فَهِجْرَتُهُ إلى ما هاجَرَ إلَيْهِ. (رواه البخاري)"'
            },
            {
                partial: '"بني الإسلام على خمس : شهادة أن لا إله إلا الله ، وأن محمدا رسول الله ، وإقام الصلاة ، وإيتاء الزكاة ، وحج ……. ، وصوم رمضان.  (رواه البخاري ومسلم)"',
                options: [
                    '"البيت"',
                    '"المدينة"',
                    '"المسجد"',
                ],
                correct: 0,
                full: '"بني الإسلام على خمس : شهادة أن لا إله إلا الله ، وأن محمدا رسول الله ، وإقام الصلاة ، وإيتاء الزكاة ، وحج البيت ، وصوم رمضان.  (رواه البخاري ومسلم)"'
            },
            {
                partial: '"مَنْ كَانَ يُؤْمِنُ بِاللهِ وَالْيَوْمِ الْآخِرِ فَلَا يُؤْذِ جَارَهُ، وَمَنْ كَانَ يُؤْمِنُ بِاللهِ وَالْيَوْمِ الْآخِرِ فَلْيُكْرِمْ ..........، وَمَنْ كَانَ يُؤْمِنُ بِاللهِ وَالْيَوْمِ الْآخِرِ فَلْيَقُلْ خَيْرًا أَوْ لِيَصْمُتْ. (رواه البخاري)"',
                options: [
                    '"والدة"',
                    '"معلمه"',
                    '"ضيفه"',
                ],
                correct: 2,
                full: '"مَنْ كَانَ يُؤْمِنُ بِاللهِ وَالْيَوْمِ الْآخِرِ فَلَا يُؤْذِ جَارَهُ، وَمَنْ كَانَ يُؤْمِنُ بِاللهِ وَالْيَوْمِ الْآخِرِ فَلْيُكْرِمْ ضَيْفَهُ، وَمَنْ كَانَ يُؤْمِنُ بِاللهِ وَالْيَوْمِ الْآخِرِ فَلْيَقُلْ خَيْرًا أَوْ لِيَصْمُتْ. (رواه البخاري)"'
            },
            {
                partial: '"لا يُؤْمِنُ أحَدُكُمْ، حتّى يُحِبَّ لأخِيهِ ................ (رواه البخاري)"',
                options: [
                    '"ما يکره لنفسه"',
                    '"ما يحب لنفسه"',
                    '"ما يقول لنفسه"',
                ],
                correct: 1,
                full: '"لا يُؤْمِنُ أحَدُكُمْ، حتّى يُحِبَّ لأخِيهِ ما يحب لنفسه (رواه البخاري)"'
            },
            {
                partial: '"اتَّقِ اللهَ حيثما كنتَ وأتبِعِ السَّيِّئةَ الحسنةَ تمْحُها وخالِقِ النّاسَ ......... (رواه الترمذي)"',
                options: [
                    '"بخلق حسن"',
                    '"قول شديد"',
                    '"عمل قبيح"',
                ],
                correct: 0,
                full: '"اتَّقِ اللهَ حيثما كنتَ وأتبِعِ السَّيِّئةَ الحسنةَ تمْحُها وخالِقِ النّاسَ بخُلقٍ حَسنٍ (رواه الترمذي)"'
            }
        ];
        
        // Hadis Collection Data
        const hadisCollectionData = [
            {
                text: "Sesungguhnya setiap amalan itu bergantung kepada niat, dan sesungguhnya setiap orang akan mendapat apa yang diniatkannya.",
                reference: "HR. Al-Bukhari dan Muslim"
            },
            {
                text: "Islam dibina atas lima perkara: Bersaksi bahawa tiada tuhan melainkan Allah dan Muhammad adalah utusan Allah, mendirikan solat, menunaikan zakat, berpuasa di bulan Ramadan, dan menunaikan haji ke Baitullah bagi yang mampu.",
                reference: "HR. Al-Bukhari"
            },
            {
                text: "Senyumanmu di hadapan saudaramu adalah sedekah.",
                reference: "HR. At-Tirmidzi"
            },
            {
                text: "Orang yang kuat bukanlah orang yang pandai bergusti, tetapi orang yang mampu mengawal dirinya ketika marah.",
                reference: "HR. Al-Bukhari"
            },
            {
                text: "Tidak sempurna iman seseorang sehingga dia mencintai saudaranya seperti dia mencintai dirinya sendiri.",
                reference: "HR. Al-Bukhari"
            },
            {
                text: "Seorang Mukmin hendaklah berkata yang baik atau memilih untuk diam. Kata-kata mencerminkan keimanan dan akhlak seseorang.",
                reference: "HR. Al-Bukhari"
            },
            {
                text: "Malu yang berpaksikan iman akan mencegah seseorang daripada melakukan dosa dan maksiat.",
                reference: "HR. Al-Bukhari"
            },
            {
                text: "Iman yang sebenar bukan sekadar pengakuan, tetapi perlu disertai dengan istiqamah dalam ketaatan.",
                reference: "HR. Muslim"
            },
            {
                text: "Kebaikan menenangkan jiwa, manakala dosa menimbulkan kegelisahan dalam hati.",
                reference: "HR. Al-Muslim"
            },
            {
                text: "Sesiapa yang mendekatkan diri kepada Allah melalui ibadah, akan mendapat perlindungan dan kasih sayang Allah.",
                reference: "HR. Al-Bukhari"
            }
        ];

        // ================= GAME VARIABLES =================
        // Tajwid Game Variables
        let tajwidCurrentQuestion = 0;
        let tajwidScore = 0;
        let tajwidStreak = 0;
        let tajwidHighestStreak = 0;
        let tajwidCorrectCount = 0;
        let tajwidSelectedOption = null;
        let tajwidIsAnswered = false;
        let tajwidTimeLeft = 60;
        let tajwidTimerInterval = null;
        let tajwidQuestionsList = [];
        
        // Quran Continue Game Variables
        const levelTime = {easy: 10, medium: 12, hard: 15};
        let currentLevel = null;
        let currentVersesList = [];
        let currentQuestion = 0;
        let score = 0;
        let streak = 0;
        let correctAnswers = 0;
        let timerInterval = null;
        let timeLeft = 0;
        let isAnswered = false;
        
        // General Variables
        let currentPage = null;
        
        // Quran Quiz Variables
        let quranQuizCurrentQuestion = 0;
        let quranQuizSelectedAnswer = null;
        let quranQuizAnswered = false;
        
        // Hadis Quiz Variables
        let hadisQuizCurrentQuestion = 0;
        let hadisQuizSelectedAnswer = null;
        let hadisQuizAnswered = false;
        
        // Hadis Continue Variables
        let hadisContinueCurrentQuestion = 0;
        let hadisContinueSelectedAnswer = null;
        let hadisContinueAnswered = false;
        
        let currentHadisIndex = 0;
        
        // ================= SOUND SYSTEM =================
        const soundSystem = {
            // UI Elements
            bgMusicBtn: document.getElementById('bgMusicBtn'),
            soundEffectsBtn: document.getElementById('soundEffectsBtn'),
            volumeSlider: document.getElementById('volumeSlider'),
            volumeSliderContainer: document.getElementById('volumeSliderContainer'),
            musicInfo: document.getElementById('musicInfo'),
            musicTitle: document.getElementById('musicTitle'),
            musicArtist: document.getElementById('musicArtist'),
            soundIndicator: document.getElementById('soundIndicator'),
            youtubePlayer: document.getElementById('youtubePlayer'),
            
            // State
            bgMusicEnabled: true,
            soundEffectsEnabled: true,
            youtubePlayerInstance: null,
            youtubeVideoId: "tJbDzPo9wWE",
            
            // Initialize
            init() {
                // Setup YouTube player
                this.setupYouTubePlayer();
                
                // Set up event listeners for sound controls
                this.setupEventListeners();
                
                // Set initial states
                this.updateControlButtons();
                
                // Add hover sound to all buttons
                this.addHoverSoundToButtons();
                
                // Add click sound to all interactive elements
                this.addClickSoundToElements();
                
                // Show music info
                this.showMusicInfo();
            },
            
            // Setup YouTube player
            setupYouTubePlayer() {
                // Load YouTube IFrame API
                const tag = document.createElement('script');
                tag.src = "https://www.youtube.com/iframe_api";
                const firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
                
                // This function will be called by YouTube API when ready
                window.onYouTubeIframeAPIReady = () => {
                    this.youtubePlayerInstance = new YT.Player('youtubePlayer', {
                        height: '180',
                        width: '300',
                        videoId: this.youtubeVideoId,
                        playerVars: {
                            'autoplay': 1,
                            'controls': 0,
                            'disablekb': 1,
                            'fs': 0,
                            'loop': 1,
                            'modestbranding': 1,
                            'playlist': this.youtubeVideoId,
                            'rel': 0,
                            'showinfo': 0,
                            'iv_load_policy': 3
                        },
                        events: {
                            'onReady': (event) => this.onPlayerReady(event),
                            'onStateChange': (event) => this.onPlayerStateChange(event)
                        }
                    });
                };
            },
            
            // When YouTube player is ready
            onPlayerReady(event) {
                // Set initial volume
                this.updateYouTubeVolume();
                
                // Play if music is enabled
                if (this.bgMusicEnabled) {
                    event.target.playVideo();
                } else {
                    event.target.pauseVideo();
                }
            },
            
            // Handle YouTube player state changes
            onPlayerStateChange(event) {
                // If video ended, restart it (for looping)
                if (event.data === YT.PlayerState.ENDED) {
                    event.target.playVideo();
                }
            },
            
            // Update YouTube player volume based on slider
            updateYouTubeVolume() {
                if (this.youtubePlayerInstance && this.youtubePlayerInstance.setVolume) {
                    const volume = this.volumeSlider.value;
                    this.youtubePlayerInstance.setVolume(volume);
                }
            },
            
            // Setup event listeners
            setupEventListeners() {
                // Background music toggle
                this.bgMusicBtn.addEventListener('click', () => this.toggleBgMusic());
                
                // Sound effects toggle
                this.soundEffectsBtn.addEventListener('click', () => this.toggleSoundEffects());
                
                // Volume slider
                this.volumeSlider.addEventListener('input', () => {
                    this.updateYouTubeVolume();
                    this.showSoundIndicator(`Volume: ${this.volumeSlider.value}%`);
                });
                
                // Show volume slider on hover
                this.bgMusicBtn.addEventListener('mouseenter', () => {
                    this.volumeSliderContainer.classList.add('show');
                });
                
                this.volumeSliderContainer.addEventListener('mouseleave', () => {
                    this.volumeSliderContainer.classList.remove('show');
                });
                
                // Also show volume slider when hovering over sound effects button
                this.soundEffectsBtn.addEventListener('mouseenter', () => {
                    this.volumeSliderContainer.classList.add('show');
                });
                
                // Show/hide YouTube player when hovering over music button
                this.bgMusicBtn.addEventListener('mouseenter', () => {
                    this.youtubePlayer.classList.add('show');
                });
                
                this.youtubePlayer.addEventListener('mouseleave', () => {
                    this.youtubePlayer.classList.remove('show');
                });
            },
            
            // Toggle background music (YouTube)
            toggleBgMusic() {
                this.bgMusicEnabled = !this.bgMusicEnabled;
                
                if (this.bgMusicEnabled) {
                    // Play YouTube video
                    if (this.youtubePlayerInstance && this.youtubePlayerInstance.playVideo) {
                        this.youtubePlayerInstance.playVideo();
                    }
                    this.showSoundIndicator("Background music dihidupkan");
                    this.showMusicInfo();
                } else {
                    // Pause YouTube video
                    if (this.youtubePlayerInstance && this.youtubePlayerInstance.pauseVideo) {
                        this.youtubePlayerInstance.pauseVideo();
                    }
                    this.showSoundIndicator("Background music dimatikan");
                }
                
                this.updateControlButtons();
            },
            
            // Toggle sound effects
            toggleSoundEffects() {
                this.soundEffectsEnabled = !this.soundEffectsEnabled;
                
                if (this.soundEffectsEnabled) {
                    this.showSoundIndicator("Sound effects dihidupkan");
                } else {
                    this.showSoundIndicator("Sound effects dimatikan");
                }
                
                this.updateControlButtons();
            },
            
            // Update control buttons appearance
            updateControlButtons() {
                // Update background music button
                if (this.bgMusicEnabled) {
                    this.bgMusicBtn.classList.add('active');
                    this.bgMusicBtn.innerHTML = '<i class="fas fa-music"></i>';
                } else {
                    this.bgMusicBtn.classList.remove('active');
                    this.bgMusicBtn.innerHTML = '<i class="fas fa-music-slash"></i>';
                }
                
                // Update sound effects button
                if (this.soundEffectsEnabled) {
                    this.soundEffectsBtn.classList.add('active');
                    this.soundEffectsBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
                } else {
                    this.soundEffectsBtn.classList.remove('active');
                    this.soundEffectsBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
                }
            },
            
            // Show music info
            showMusicInfo() {
                if (!this.bgMusicEnabled) return;
                
                this.musicTitle.textContent = "Relaxing Quranic Melody";
                this.musicArtist.textContent = "YouTube Background Music";
                
                this.musicInfo.classList.add('show');
                
                setTimeout(() => {
                    this.musicInfo.classList.remove('show');
                }, 4000);
            },
            
            // Play sound methods
            playClick() {
                if (!this.soundEffectsEnabled) return;
                
                this.playTone(800, 0.1, 'sine', 0.3);
            },
            
            playPageTransition() {
                if (!this.soundEffectsEnabled) return;
                
                this.playTone(600, 0.2, 'sine', 0.2);
            },
            
            playCorrect() {
                if (!this.soundEffectsEnabled) return;
                
                // Play pleasant success sound
                this.playTone(523.25, 0.1, 'sine', 0.3); // C5
                setTimeout(() => {
                    this.playTone(659.25, 0.1, 'sine', 0.3); // E5
                }, 100);
                setTimeout(() => {
                    this.playTone(783.99, 0.2, 'sine', 0.3); // G5
                }, 200);
                
                this.showSoundIndicator("Jawapan betul!");
            },
            
            playWrong() {
                if (!this.soundEffectsEnabled) return;
                
                // Play gentle error sound
                this.playTone(392, 0.2, 'sine', 0.3); // G4
                setTimeout(() => {
                    this.playTone(349.23, 0.2, 'sine', 0.3); // F4
                }, 100);
            },
            
            playGameOver() {
                if (!this.soundEffectsEnabled) return;
                
                // Play game over sound sequence
                this.playTone(523.25, 0.2, 'sine', 0.3);
                setTimeout(() => {
                    this.playTone(392, 0.2, 'sine', 0.3);
                }, 200);
                setTimeout(() => {
                    this.playTone(261.63, 0.3, 'sine', 0.3);
                }, 400);
            },
            
            playButtonHover() {
                if (!this.soundEffectsEnabled) return;
                
                this.playTone(500, 0.05, 'sine', 0.15);
            },
            
            // Helper to play a tone using Web Audio API
            playTone(frequency, duration, type = 'sine', volume = 0.5) {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.value = frequency;
                    oscillator.type = type;
                    
                    gainNode.gain.setValueAtTime(volume, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
                    
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + duration);
                } catch (e) {
                    console.log("Web Audio API not supported:", e);
                }
            },
            
            // Show sound indicator
            showSoundIndicator(text) {
                if (!this.soundEffectsEnabled) return;
                
                this.soundIndicator.textContent = text;
                this.soundIndicator.classList.add('show');
                
                setTimeout(() => {
                    this.soundIndicator.classList.remove('show');
                }, 2000);
            },
            
            // Add hover sound to all buttons
            addHoverSoundToButtons() {
                const buttons = document.querySelectorAll('.btn, .menu-card, .option-card, .back-btn, .sound-btn');
                buttons.forEach(button => {
                    button.addEventListener('mouseenter', () => {
                        this.playButtonHover();
                    });
                });
            },
            
            // Add click sound to all interactive elements
            addClickSoundToElements() {
                const clickableElements = document.querySelectorAll('.btn, .menu-card, .option-card, .back-btn, .sound-btn, .touch-instruction');
                clickableElements.forEach(element => {
                    element.addEventListener('click', () => {
                        this.playClick();
                    });
                });
            }
        };
        
        // Initialize sound system
        soundSystem.init();
        
        // DOM Elements
        const openingScreen = document.getElementById('openingScreen');
        const touchInstruction = document.getElementById('touchInstruction');
        const mainMenu = document.getElementById('mainMenu');
        
        // Pages
        const quranPage = document.getElementById('quranPage');
        const hadisPage = document.getElementById('hadisPage');
        const levelSelectionPage = document.getElementById('levelSelectionPage');
        const quranTajwidPage = document.getElementById('quranTajwidPage');
        const quranContinuePage = document.getElementById('quranContinuePage');
        const quranQuizPage = document.getElementById('quranQuizPage');
        const quranDailyVersePage = document.getElementById('quranDailyVersePage');
        const hadisQuizPage = document.getElementById('hadisQuizPage');
        const hadisCollectionPage = document.getElementById('hadisCollectionPage');
        const hadisContinuePage = document.getElementById('hadisContinuePage');
        
        // Menu Buttons
        const quranMenuBtn = document.getElementById('quranMenuBtn');
        const hadisMenuBtn = document.getElementById('hadisMenuBtn');
        
        // Quran Page Buttons
        const quranTajwidBtn = document.getElementById('quranTajwidBtn');
        const quranQuizBtn = document.getElementById('quranQuizBtn');
        const quranDailyVerseBtn = document.getElementById('quranDailyVerseBtn');
        const quranContinueBtn = document.getElementById('quranContinueBtn');
        
        // Level Selection Buttons
        const easyLevelBtn = document.getElementById('easyLevelBtn');
        const mediumLevelBtn = document.getElementById('mediumLevelBtn');
        const hardLevelBtn = document.getElementById('hardLevelBtn');
        
        // Hadis Page Buttons
        const hadisQuizBtn = document.getElementById('hadisQuizBtn');
        const hadisCollectionBtn = document.getElementById('hadisCollectionBtn');
        const hadisContinueBtn = document.getElementById('hadisContinueBtn');
        
        // Back Buttons
        const backFromQuran = document.getElementById('backFromQuran');
        const backFromHadis = document.getElementById('backFromHadis');
        const backFromLevelSelection = document.getElementById('backFromLevelSelection');
        const backFromQuranTajwid = document.getElementById('backFromQuranTajwid');
        const backFromQuranContinue = document.getElementById('backFromQuranContinue');
        const backFromQuranQuiz = document.getElementById('backFromQuranQuiz');
        const backFromQuranDailyVerse = document.getElementById('backFromQuranDailyVerse');
        const backFromHadisQuiz = document.getElementById('backFromHadisQuiz');
        const backFromHadisCollection = document.getElementById('backFromHadisCollection');
        const backFromHadisContinue = document.getElementById('backFromHadisContinue');
        
        // Navigation Buttons
        const backToQuranFromLevel = document.getElementById('backToQuranFromLevel');
        const backToQuranFromQuiz = document.getElementById('backToQuranFromQuiz');
        const backToQuranFromDailyVerse = document.getElementById('backToQuranFromDailyVerse');
        const backToHadisFromQuiz = document.getElementById('backToHadisFromQuiz');
        const backToHadisFromCollection = document.getElementById('backToHadisFromCollection');
        const backToHadisFromContinue = document.getElementById('backToHadisFromContinue');
        
        // Game Elements
        const quranQuizQuestion = document.getElementById('quranQuizQuestion');
        const quranQuizOptions = document.getElementById('quranQuizOptions');
        const quranQuizResult = document.getElementById('quranQuizResult');
        const checkQuranQuizAnswerBtn = document.getElementById('checkQuranQuizAnswer');
        const nextQuranQuizQuestionBtn = document.getElementById('nextQuranQuizQuestion');
        const dailyVerseText = document.getElementById('dailyVerseText');
        const dailyVerseReference = document.getElementById('dailyVerseReference');
        const newDailyVerseBtn = document.getElementById('newDailyVerse');
        const hadisQuizQuestion = document.getElementById('hadisQuizQuestion');
        const hadisQuizOptions = document.getElementById('hadisQuizOptions');
        const hadisQuizResult = document.getElementById('hadisQuizResult');
        const checkHadisQuizAnswerBtn = document.getElementById('checkHadisQuizAnswer');
        const nextHadisQuizQuestionBtn = document.getElementById('nextHadisQuizQuestion');
        const hadisCollectionText = document.getElementById('hadisCollectionText');
        const hadisCollectionReference = document.getElementById('hadisCollectionReference');
        const nextHadisInCollectionBtn = document.getElementById('nextHadisInCollection');
        const hadisPartialText = document.getElementById('hadisPartialText');
        const hadisContinueOptions = document.getElementById('hadisContinueOptions');
        const hadisContinueResult = document.getElementById('hadisContinueResult');
        const checkHadisContinueAnswerBtn = document.getElementById('checkHadisContinueAnswer');
        const nextHadisContinueQuestionBtn = document.getElementById('nextHadisContinueQuestion');
        
        // ================= TAJWID GAME FUNCTIONS =================
        
        // Function to start Tajwid game
        function startTajwidGame() {
            // Reset all values
            tajwidCurrentQuestion = 0;
            tajwidScore = 0;
            tajwidStreak = 0;
            tajwidHighestStreak = 0;
            tajwidCorrectCount = 0;
            tajwidTimeLeft = 60;
            
            // Shuffle questions
            tajwidQuestionsList = [...tajwidQuestions];
            shuffleArray(tajwidQuestionsList);
            
            // Show the game page
            loadTajwidQuestion();
        }
        
        // Function to load Tajwid question
        function loadTajwidQuestion() {
            const question = tajwidQuestionsList[tajwidCurrentQuestion];
            
            // Reset selection
            tajwidSelectedOption = null;
            tajwidIsAnswered = false;
            
            // Clear timer if exists
            if (tajwidTimerInterval) {
                clearInterval(tajwidTimerInterval);
            }
            
            // Set up timer
            tajwidTimeLeft = 60;
            
            // Create game HTML
            const gameContainer = document.querySelector('#quranTajwidPage .game-container');
            gameContainer.innerHTML = `
                <!-- Sound Controls -->
                <div class="sound-controls" style="position: absolute; top: 20px; right: 20px;">
                    <button class="sound-btn active" id="tajwidSoundEffectsBtn" title="Sound Effects">
                        <i class="fas fa-volume-up"></i>
                    </button>
                </div>
                
                <!-- Timer -->
                <div class="timer-container-tajwid" style="position: absolute; top: 20px; left: 20px;">
                    <i class="fas fa-clock"></i>
                    <div class="timer-tajwid" id="tajwidTimer">60s</div>
                </div>
                
                <!-- Game Header -->
                <div class="game-header">
                    <h1 class="game-title">Tajwid Identification</h1>
                    <p class="game-subtitle">Identify the tajwid rules found in the highlighted Quranic verses</p>
                </div>
                
                <!-- Game Stats -->
                <div class="game-stats">
                    <div class="stat-box">
                        <div class="stat-value" id="tajwidScore">0</div>
                        <div class="stat-label">Skor</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="tajwidQuestionCount">1/10</div>
                        <div class="stat-label">Soalan</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="tajwidStreak">0</div>
                        <div class="stat-label">Streak</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="tajwidCorrectCount">0</div>
                        <div class="stat-label">Betul</div>
                    </div>
                </div>
                
                <!-- Ayah Display -->
                <div class="ayah-container">
                    <div class="ayah-text" id="tajwidAyahText">
                        ${question.ayah.replace(
                            question.highlighted,
                            `<span class="highlighted-text">${question.highlighted}</span>`
                        )}
                    </div>
                    <div class="ayah-reference" id="tajwidAyahReference">${question.reference}</div>
                </div>
                
                <!-- Question -->
                <div class="question-container">
                    <div class="question-text" id="tajwidQuestionText">${question.question}</div>
                    
                    <!-- Difficulty Badge -->
                    <div style="text-align: center; margin-bottom: 20px;">
                        <span class="difficulty-badge difficulty-${question.difficulty}" id="tajwidDifficultyBadge">
                            ${question.difficulty === 'easy' ? 'Mudah' : 
                              question.difficulty === 'medium' ? 'Sederhana' : 'Sukar'}
                        </span>
                    </div>
                    
                    <!-- Options -->
                    <div class="options-grid-tajwid" id="tajwidOptionsGrid">
                        ${question.options.map((option, index) => `
                            <button class="option-btn" data-index="${index}" data-correct="${option.correct}">
                                <span class="option-icon-tajwid">${getOptionLetter(index)}</span>
                                ${option.text}
                            </button>
                        `).join('')}
                    </div>
                    
                    <!-- Hint -->
                    <div class="hint-container">
                        <div class="hint-icon">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="hint-text" id="tajwidHintText">${question.hint}</div>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="progress-bar">
                        <div class="progress-fill" id="tajwidProgressFill" style="width: ${((tajwidCurrentQuestion + 1) / 10) * 100}%;"></div>
                    </div>
                </div>
                
                <!-- Result Display -->
                <div class="result-container" id="tajwidResultContainer"></div>
                
                <!-- Controls -->
                <div class="controls-container">
                    <button class="btn" id="tajwidSubmitBtn" disabled>
                        <i class="fas fa-paper-plane option-icon-tajwid"></i> Hantar Jawapan
                    </button>
                    <button class="btn" id="tajwidNextBtn" style="display: none;">
                        <i class="fas fa-arrow-right option-icon-tajwid"></i> Seterusnya
                    </button>
                </div>
            `;
            
            // Set up event listeners for the new elements
            setupTajwidEventListeners();
            
            // Update stats
            updateTajwidStats();
            
            // Start the timer
            startTajwidTimer();
        }
        
        // Function to set up Tajwid event listeners
        function setupTajwidEventListeners() {
            // Option selection
            document.querySelectorAll('#tajwidOptionsGrid .option-btn').forEach(option => {
                option.addEventListener('click', function() {
                    if (tajwidIsAnswered) return;
                    
                    // Remove selected class from all options
                    document.querySelectorAll('#tajwidOptionsGrid .option-btn').forEach(btn => {
                        btn.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    tajwidSelectedOption = this;
                    
                    // Enable submit button
                    document.getElementById('tajwidSubmitBtn').disabled = false;
                    
                    soundSystem.playClick();
                });
            });
            
            // Submit answer button
            document.getElementById('tajwidSubmitBtn').addEventListener('click', submitTajwidAnswer);
            
            // Next question button
            document.getElementById('tajwidNextBtn').addEventListener('click', nextTajwidQuestion);
            
            // Sound effects button
            const tajwidSoundEffectsBtn = document.getElementById('tajwidSoundEffectsBtn');
            if (tajwidSoundEffectsBtn) {
                tajwidSoundEffectsBtn.addEventListener('click', function() {
                    soundSystem.soundEffectsEnabled = !soundSystem.soundEffectsEnabled;
                    soundSystem.updateControlButtons();
                    this.classList.toggle('active', soundSystem.soundEffectsEnabled);
                    
                    if (soundSystem.soundEffectsEnabled) {
                        soundSystem.showSoundIndicator("Sound effects dihidupkan");
                    } else {
                        soundSystem.showSoundIndicator("Sound effects dimatikan");
                    }
                });
            }
        }
        
        // Function to start Tajwid timer
        function startTajwidTimer() {
            clearInterval(tajwidTimerInterval);
            
            tajwidTimerInterval = setInterval(() => {
                tajwidTimeLeft--;
                document.getElementById('tajwidTimer').textContent = `${tajwidTimeLeft}s`;
                
                // Change color when time is running out
                if (tajwidTimeLeft <= 10) {
                    document.getElementById('tajwidTimer').style.color = 'var(--wrong)';
                    document.getElementById('tajwidTimer').classList.add('pulse-animation');
                } else {
                    document.getElementById('tajwidTimer').style.color = 'var(--primary)';
                    document.getElementById('tajwidTimer').classList.remove('pulse-animation');
                }
                
                if (tajwidTimeLeft <= 0) {
                    clearInterval(tajwidTimerInterval);
                    if (!tajwidIsAnswered) {
                        submitTajwidAnswer(true);
                    }
                }
            }, 1000);
        }
        
        // Function to submit Tajwid answer
        function submitTajwidAnswer(timeout = false) {
            if (tajwidSelectedOption === null || tajwidIsAnswered) return;
            
            tajwidIsAnswered = true;
            clearInterval(tajwidTimerInterval);
            
            const isCorrect = tajwidSelectedOption.dataset.correct === 'true';
            const question = tajwidQuestionsList[tajwidCurrentQuestion];
            
            // Disable all options
            document.querySelectorAll('#tajwidOptionsGrid .option-btn').forEach(btn => {
                btn.disabled = true;
                if (btn.dataset.correct === 'true') {
                    btn.classList.add('correct');
                } else if (btn === tajwidSelectedOption && !isCorrect) {
                    btn.classList.add('wrong');
                }
            });
            
            // Update statistics
            if (isCorrect) {
                // Calculate points based on difficulty and time
                const basePoints = 
                    question.difficulty === 'easy' ? 100 : 
                    question.difficulty === 'medium' ? 150 : 200;
                
                const timeBonus = Math.floor(tajwidTimeLeft / 10) * 10;
                const streakBonus = tajwidStreak * 25;
                const points = basePoints + timeBonus + streakBonus;
                
                tajwidScore += points;
                tajwidStreak++;
                tajwidCorrectCount++;
                
                if (tajwidStreak > tajwidHighestStreak) {
                    tajwidHighestStreak = tajwidStreak;
                }
                
                soundSystem.playCorrect();
                
                // Show correct result
                showTajwidResult(true, question, points);
            } else {
                tajwidStreak = 0;
                soundSystem.playWrong();
                
                // Show wrong result
                showTajwidResult(false, question);
            }
            
            // Update stats display
            updateTajwidStats();
            
            // Show next button
            document.getElementById('tajwidSubmitBtn').style.display = 'none';
            document.getElementById('tajwidNextBtn').style.display = 'inline-flex';
        }
        
        // Function to show Tajwid result
        function showTajwidResult(isCorrect, question, points = 0) {
            const resultContainer = document.getElementById('tajwidResultContainer');
            const resultTitle = document.createElement('div');
            resultTitle.className = `result-title ${isCorrect ? 'result-correct' : 'result-wrong'}`;
            resultTitle.innerHTML = `
                <i class="fas ${isCorrect ? 'fa-check-circle' : 'fa-times-circle'} result-icon"></i>
                ${isCorrect ? 'Jawapan Betul!' : 'Jawapan Salah'}
                ${isCorrect ? `<span style="margin-left: auto; color: var(--accent);">+${points} mata</span>` : ''}
            `;
            
            const resultExplanation = document.createElement('div');
            resultExplanation.className = 'result-explanation';
            resultExplanation.innerHTML = `
                <p><strong>${question.explanation}</strong></p>
                <div class="tajwid-details">
                    <div class="detail-item">
                        <span class="detail-label">Verse:</span>
                        <span>${question.ayah}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Surah:</span>
                        <span>${question.reference}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Tajwid Rules:</span>
                        <span>${question.options.find(opt => opt.correct).text}</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Explaination:</span>
                        <span>${question.details}</span>
                    </div>
                </div>
            `;
            
            resultContainer.innerHTML = '';
            resultContainer.appendChild(resultTitle);
            resultContainer.appendChild(resultExplanation);
            resultContainer.classList.add('show');
        }
        
        // Function to load next Tajwid question
        function nextTajwidQuestion() {
            tajwidCurrentQuestion++;
            
            if (tajwidCurrentQuestion < tajwidQuestionsList.length) {
                loadTajwidQuestion();
            } else {
                showTajwidGameComplete();
            }
        }
        
        // Function to show Tajwid game complete screen
        function showTajwidGameComplete() {
            const gameContainer = document.querySelector('#quranTajwidPage .game-container');
            const accuracy = Math.round((tajwidCorrectCount / 10) * 100);
            
            // Set performance rating
            let ratingText = '';
            let ratingClass = '';
            
            if (accuracy >= 90) {
                ratingText = 'EXCELLENCE! 🏆';
                ratingClass = 'rating-excellent';
            } else if (accuracy >= 70) {
                ratingText = 'GOOD! 👍';
                ratingClass = 'rating-good';
            } else if (accuracy >= 50) {
                ratingText = 'AVERAGE! 🙂';
                ratingClass = 'rating-average';
            } else {
                ratingText = 'NEED TO LEARN MORE! 📚';
                ratingClass = 'rating-average';
            }
            
            gameContainer.innerHTML = `
                <div class="game-complete show">
                    <h2 class="completion-title">Well done! You\’ve successfully completed the game!</h2>
                    
                    <div class="score-display" id="tajwidFinalScore">${tajwidScore}</div>
                    
                    <div class="performance-stats">
                        <h3>Prestasi Anda:</h3>
                        <div class="rating ${ratingClass}" id="tajwidPerformanceRating">${ratingText}</div>
                        <p><strong>Jawapan Betul:</strong> <span id="tajwidFinalCorrect">${tajwidCorrectCount}</span>/10</p>
                        <p><strong>Streak Tertinggi:</strong> <span id="tajwidHighestStreak">${tajwidHighestStreak}</span></p>
                        <p><strong>Ketepatan:</strong> <span id="tajwidAccuracy">${accuracy}</span>%</p>
                    </div>
                    
                    <div class="controls-container">
                        <button class="btn" id="tajwidPlayAgainBtn">
                            <i class="fas fa-redo option-icon-tajwid"></i> Main Lagi
                        </button>
                        <button class="btn btn-secondary" id="tajwidBackToQuranBtn">
                            <i class="fas fa-arrow-left option-icon-tajwid"></i> Back to the Al-Quran
                        </button>
                    </div>
                </div>
            `;
            
            // Set up event listeners for completion screen
            document.getElementById('tajwidPlayAgainBtn').addEventListener('click', () => {
                startTajwidGame();
            });
            
            document.getElementById('tajwidBackToQuranBtn').addEventListener('click', () => {
                showPage('quranPage');
            });
            
            soundSystem.playGameOver();
        }
        
        // Function to update Tajwid statistics
        function updateTajwidStats() {
            const scoreElement = document.getElementById('tajwidScore');
            const questionCountElement = document.getElementById('tajwidQuestionCount');
            const streakElement = document.getElementById('tajwidStreak');
            const correctCountElement = document.getElementById('tajwidCorrectCount');
            const progressFill = document.getElementById('tajwidProgressFill');
            
            if (scoreElement) scoreElement.textContent = tajwidScore;
            if (questionCountElement) questionCountElement.textContent = `${tajwidCurrentQuestion + 1}/10`;
            if (streakElement) streakElement.textContent = tajwidStreak;
            if (correctCountElement) correctCountElement.textContent = `${tajwidCorrectCount}/10`;
            if (progressFill) progressFill.style.width = `${((tajwidCurrentQuestion + 1) / 10) * 100}%`;
        }
        
        // ================= FIXED QURAN QUIZ FUNCTIONS =================
        
        function initQuranQuiz() {
            quranQuizCurrentQuestion = 0;
            quranQuizSelectedAnswer = null;
            quranQuizAnswered = false;
            displayQuranQuizQuestion();
        }
        
        function displayQuranQuizQuestion() {
            const questionData = quranQuizData[quranQuizCurrentQuestion];
            quranQuizQuestion.textContent = questionData.question;
            
            quranQuizOptions.innerHTML = '';
            
            questionData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'quiz-option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                // Reset selected state
                optionElement.classList.remove('selected', 'correct', 'wrong');
                
                optionElement.addEventListener('click', function() {
                    if (quranQuizAnswered) return;
                    
                    // Remove selected class from all options
                    document.querySelectorAll('#quranQuizOptions .quiz-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    quranQuizSelectedAnswer = parseInt(this.dataset.index);
                    
                    soundSystem.playClick();
                });
                
                quranQuizOptions.appendChild(optionElement);
            });
            
            quranQuizResult.textContent = '';
            quranQuizResult.className = 'quiz-result';
            checkQuranQuizAnswerBtn.style.display = 'inline-block';
            nextQuranQuizQuestionBtn.style.display = 'none';
        }
        
        function checkQuranQuizAnswer() {
            if (quranQuizSelectedAnswer === null) {
                soundSystem.showSoundIndicator('Please select an answer first!');
                return;
            }
            
            const correctAnswer = quranQuizData[quranQuizCurrentQuestion].correct;
            const options = document.querySelectorAll('#quranQuizOptions .quiz-option');
            
            // Disable all options
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Highlight correct and incorrect answers
            options.forEach((opt, index) => {
                if (index === correctAnswer) {
                    opt.classList.add('correct');
                } else if (index === quranQuizSelectedAnswer && index !== correctAnswer) {
                    opt.classList.add('wrong');
                }
            });
            
            quranQuizAnswered = true;
            
            if (quranQuizSelectedAnswer === correctAnswer) {
                quranQuizResult.textContent = 'Well done! That\’s the correct answer.';
                quranQuizResult.classList.add('result-correct');
                quranQuizResult.style.color = 'green';
                soundSystem.playCorrect();
            } else {
                quranQuizResult.textContent = `Oops! Sorry, the correct answer is: ${quranQuizData[quranQuizCurrentQuestion].options[correctAnswer]}`;
                quranQuizResult.classList.add('result-wrong');
                quranQuizResult.style.color = 'red';
                soundSystem.playWrong();
            }
            
            checkQuranQuizAnswerBtn.style.display = 'none';
            nextQuranQuizQuestionBtn.style.display = 'inline-block';
        }
        
        function nextQuranQuizQuestion() {
            quranQuizCurrentQuestion++;
            quranQuizSelectedAnswer = null;
            quranQuizAnswered = false;
            
            if (quranQuizCurrentQuestion < quranQuizData.length) {
                displayQuranQuizQuestion();
            } else {
                quranQuizResult.textContent = 'Well done! You\’ve finished all the quiz questions!';
                quranQuizResult.style.color = 'green';
                nextQuranQuizQuestionBtn.style.display = 'none';
                soundSystem.playCorrect();
            }
        }
        
        // ================= FIXED HADIS QUIZ FUNCTIONS =================
        
        function initHadisQuiz() {
            hadisQuizCurrentQuestion = 0;
            hadisQuizSelectedAnswer = null;
            hadisQuizAnswered = false;
            displayHadisQuizQuestion();
        }
        
        function displayHadisQuizQuestion() {
            const questionData = hadisQuizData[hadisQuizCurrentQuestion];
            hadisQuizQuestion.textContent = questionData.question;
            
            hadisQuizOptions.innerHTML = '';
            
            questionData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'quiz-option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                // Reset selected state
                optionElement.classList.remove('selected', 'correct', 'wrong');
                
                optionElement.addEventListener('click', function() {
                    if (hadisQuizAnswered) return;
                    
                    // Remove selected class from all options
                    document.querySelectorAll('#hadisQuizOptions .quiz-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    hadisQuizSelectedAnswer = parseInt(this.dataset.index);
                    
                    soundSystem.playClick();
                });
                
                hadisQuizOptions.appendChild(optionElement);
            });
            
            hadisQuizResult.textContent = '';
            hadisQuizResult.className = 'quiz-result';
            checkHadisQuizAnswerBtn.style.display = 'inline-block';
            nextHadisQuizQuestionBtn.style.display = 'none';
        }
        
        function checkHadisQuizAnswer() {
            if (hadisQuizSelectedAnswer === null) {
                soundSystem.showSoundIndicator('Please select an answer first!');
                return;
            }
            
            const correctAnswer = hadisQuizData[hadisQuizCurrentQuestion].correct;
            const options = document.querySelectorAll('#hadisQuizOptions .quiz-option');
            
            // Disable all options
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Highlight correct and incorrect answers
            options.forEach((opt, index) => {
                if (index === correctAnswer) {
                    opt.classList.add('correct');
                } else if (index === hadisQuizSelectedAnswer && index !== correctAnswer) {
                    opt.classList.add('wrong');
                }
            });
            
            hadisQuizAnswered = true;
            
            if (hadisQuizSelectedAnswer === correctAnswer) {
                hadisQuizResult.textContent = 'Well done! That\’s the correct answer.';
                hadisQuizResult.classList.add('result-correct');
                hadisQuizResult.style.color = 'green';
                soundSystem.playCorrect();
            } else {
                hadisQuizResult.textContent = `Oops! Sorry, the correct answer is: ${hadisQuizData[hadisQuizCurrentQuestion].options[correctAnswer]}`;
                hadisQuizResult.classList.add('result-wrong');
                hadisQuizResult.style.color = 'red';
                soundSystem.playWrong();
            }
            
            checkHadisQuizAnswerBtn.style.display = 'none';
            nextHadisQuizQuestionBtn.style.display = 'inline-block';
        }
        
        function nextHadisQuizQuestion() {
            hadisQuizCurrentQuestion++;
            hadisQuizSelectedAnswer = null;
            hadisQuizAnswered = false;
            
            if (hadisQuizCurrentQuestion < hadisQuizData.length) {
                displayHadisQuizQuestion();
            } else {
                hadisQuizResult.textContent = 'Well done! You\’ve finished all the quiz questions!';
                hadisQuizResult.style.color = 'green';
                nextHadisQuizQuestionBtn.style.display = 'none';
                soundSystem.playCorrect();
            }
        }
        
        // ================= FIXED HADIS CONTINUE FUNCTIONS =================
        
        function initHadisContinueGame() {
            hadisContinueCurrentQuestion = 0;
            hadisContinueSelectedAnswer = null;
            hadisContinueAnswered = false;
            displayHadisContinueQuestion();
        }
        
        function displayHadisContinueQuestion() {
            const questionData = hadisContinueData[hadisContinueCurrentQuestion];
            hadisPartialText.textContent = questionData.partial;
            
            hadisContinueOptions.innerHTML = '';
            
            questionData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'continue-option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                // Reset selected state
                optionElement.classList.remove('selected', 'correct', 'wrong');
                
                optionElement.addEventListener('click', function() {
                    if (hadisContinueAnswered) return;
                    
                    // Remove selected class from all options
                    document.querySelectorAll('#hadisContinueOptions .continue-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    hadisContinueSelectedAnswer = parseInt(this.dataset.index);
                    
                    soundSystem.playClick();
                });
                
                hadisContinueOptions.appendChild(optionElement);
            });
            
            hadisContinueResult.textContent = '';
            hadisContinueResult.className = 'continue-result';
            checkHadisContinueAnswerBtn.style.display = 'inline-block';
            nextHadisContinueQuestionBtn.style.display = 'none';
        }
        
        function checkHadisContinueAnswer() {
            if (hadisContinueSelectedAnswer === null) {
                soundSystem.showSoundIndicator('Please select an answer first!');
                return;
            }
            
            const correctAnswer = hadisContinueData[hadisContinueCurrentQuestion].correct;
            const options = document.querySelectorAll('#hadisContinueOptions .continue-option');
            const fullHadis = hadisContinueData[hadisContinueCurrentQuestion].full;
            
            // Disable all options
            options.forEach(opt => {
                opt.style.pointerEvents = 'none';
            });
            
            // Highlight correct and incorrect answers
            options.forEach((opt, index) => {
                if (index === correctAnswer) {
                    opt.classList.add('correct');
                } else if (index === hadisContinueSelectedAnswer && index !== correctAnswer) {
                    opt.classList.add('wrong');
                }
            });
            
            hadisContinueAnswered = true;
            
            if (hadisContinueSelectedAnswer === correctAnswer) {
                hadisContinueResult.textContent = 'Well done! Here\’s the full Hadith: ' + fullHadis;
                hadisContinueResult.classList.add('result-correct');
                hadisContinueResult.style.color = 'green';
                soundSystem.playCorrect();
            } else {
                hadisContinueResult.textContent = `Sorry, the correct answer is: ${hadisContinueData[hadisContinueCurrentQuestion].options[correctAnswer]}`;
                hadisContinueResult.classList.add('result-wrong');
                hadisContinueResult.style.color = 'red';
                soundSystem.playWrong();
            }
            
            checkHadisContinueAnswerBtn.style.display = 'none';
            nextHadisContinueQuestionBtn.style.display = 'inline-block';
        }
        
        function nextHadisContinueQuestion() {
            hadisContinueCurrentQuestion++;
            hadisContinueSelectedAnswer = null;
            hadisContinueAnswered = false;
            
            if (hadisContinueCurrentQuestion < hadisContinueData.length) {
                displayHadisContinueQuestion();
            } else {
                hadisContinueResult.textContent = 'Well done! You\’ve finished all the Hadith completion questions!';
                hadisContinueResult.style.color = 'green';
                nextHadisContinueQuestionBtn.style.display = 'none';
                soundSystem.playCorrect();
            }
        }
        
        // ================= QURAN CONTINUE GAME FUNCTIONS =================
        
        // Function to start a level
        function startLevel(level) {
            currentLevel = level;
            currentVersesList = [...versesDatabase[level]];
            currentQuestion = 0;
            score = 0;
            streak = 0;
            correctAnswers = 0;
            isAnswered = false;
            
            // Shuffle the verses
            shuffleArray(currentVersesList);
            
            // Load the first question
            loadContinueQuestion();
            
            // Show the game page
            showPage('quranContinuePage');
        }
        
        // Function to load a question
        function loadContinueQuestion() {
            const gameContainer = document.querySelector('#quranContinuePage .game-container');
            const verse = currentVersesList[currentQuestion];
            
            // Clear timer if exists
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            // Set up timer
            timeLeft = levelTime[currentLevel];
            
            // Create game HTML
            gameContainer.innerHTML = `
                <h2 class="game-title">Complete the Verse - Level ${currentLevel.charAt(0).toUpperCase() + currentLevel.slice(1)}</h2>
                <p class="game-description">Choose the correct answer to complete the Qur\’an verse. Masa: ${timeLeft} saat</p>
                
                <div class="game-stats">
                    <div class="stat-box">
                        <div class="stat-value">${currentQuestion + 1}/10</div>
                        <div class="stat-label">question</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">${score}</div>
                        <div class="stat-label">Skor</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">${streak}</div>
                        <div class="stat-label">Streak</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value">${correctAnswers}/10</div>
                        <div class="stat-label">Correct</div>
                    </div>
                </div>
                
                <div class="timer-container">
                    <div>Masa Tinggal:</div>
                    <div class="timer" id="timer">${timeLeft}s</div>
                </div>
                
                <div class="surah-info">Surah ${verse.surah}${verse.ayat ? `, Ayat ${verse.ayat}` : ''}</div>
                
                <div class="verse-part">${verse.first} ...</div>
                
                <div class="options-container" id="optionsContainer">
                    ${verse.options.map((option, index) => `
                        <div class="continue-option" data-index="${index}">${option}</div>
                    `).join('')}
                </div>
                
                <div class="continue-result" id="result"></div>
                
                <div class="btn-container">
                    <button class="btn" id="checkAnswerBtn" style="display: none;">Semak Jawapan</button>
                    <button class="btn" id="nextQuestionBtn" style="display: none;">Soalan Seterusnya</button>
                    <button class="btn btn-secondary" id="backToLevelSelection">Kembali ke Pilihan Level</button>
                </div>
            `;
            
            // Set up event listeners for the new elements
            setupContinueEventListeners();
            
            // Start the timer
            startContinueTimer();
        }
        
        // Function to set up continue game event listeners
        function setupContinueEventListeners() {
            // Option selection
            document.querySelectorAll('.continue-option').forEach(option => {
                option.addEventListener('click', function() {
                    if (isAnswered) return;
                    
                    // Remove selected class from all options
                    document.querySelectorAll('.continue-option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Show check answer button
                    document.getElementById('checkAnswerBtn').style.display = 'inline-block';
                    
                    soundSystem.playClick();
                });
            });
            
            // Check answer button
            document.getElementById('checkAnswerBtn').addEventListener('click', checkContinueAnswer);
            
            // Next question button
            document.getElementById('nextQuestionBtn').addEventListener('click', nextContinueQuestion);
            
            // Back to level selection button
            document.getElementById('backToLevelSelection').addEventListener('click', () => {
                showPage('levelSelectionPage');
            });
        }
        
        // Function to start the continue timer
        function startContinueTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = `${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    if (!isAnswered) {
                        // Time's up - automatically check answer (no answer selected = wrong)
                        checkContinueAnswer(true);
                    }
                }
            }, 1000);
        }
        
        // Function to check the continue answer
        function checkContinueAnswer(timeout = false) {
            if (isAnswered) return;
            
            isAnswered = true;
            clearInterval(timerInterval);
            
            const verse = currentVersesList[currentQuestion];
            const selectedOption = document.querySelector('.continue-option.selected');
            const resultElement = document.getElementById('result');
            const checkBtn = document.getElementById('checkAnswerBtn');
            const nextBtn = document.getElementById('nextQuestionBtn');
            
            // If timeout and no answer selected
            if (timeout && !selectedOption) {
                resultElement.textContent = "Time\'s up! The correct answer is: " + verse.options[verse.correct];
                resultElement.className = "continue-result result-wrong";
                soundSystem.playWrong();
                
                // Reset streak
                streak = 0;
                
                // Show correct answer
                document.querySelectorAll('.continue-option').forEach((opt, idx) => {
                    if (idx === verse.correct) {
                        opt.classList.add('correct');
                    }
                });
            } else {
                const selectedIndex = parseInt(selectedOption?.dataset.index);
                const isCorrect = selectedIndex === verse.correct;
                
                // Update score and stats
                if (isCorrect) {
                    const baseScore = currentLevel === 'easy' ? 100 : currentLevel === 'medium' ? 150 : 200;
                    const timeBonus = Math.floor(timeLeft * 5);
                    const streakBonus = streak * 20;
                    const questionScore = baseScore + timeBonus + streakBonus;
                    
                    score += questionScore;
                    correctAnswers++;
                    streak++;
                    
                    resultElement.textContent = `Correct! +${questionScore} mata (Asas: ${baseScore}, Masa: +${timeBonus}, Streak: +${streakBonus})`;
                    resultElement.className = "continue-result result-correct";
                    soundSystem.playCorrect();
                    
                    // Highlight correct answer
                    selectedOption.classList.add('correct');
                } else {
                    resultElement.textContent = `Oops! The correct answer is: ${verse.options[verse.correct]}`;
                    resultElement.className = "continue-result result-wrong";
                    soundSystem.playWrong();
                    
                    // Reset streak
                    streak = 0;
                    
                    // Highlight correct and wrong answers
                    document.querySelectorAll('.continue-option').forEach((opt, idx) => {
                        if (idx === verse.correct) {
                            opt.classList.add('correct');
                        } else if (idx === selectedIndex) {
                            opt.classList.add('wrong');
                        }
                    });
                }
            }
            
            // Update score display
            document.querySelectorAll('.stat-box')[1].querySelector('.stat-value').textContent = score;
            document.querySelectorAll('.stat-box')[2].querySelector('.stat-value').textContent = streak;
            document.querySelectorAll('.stat-box')[3].querySelector('.stat-value').textContent = `${correctAnswers}/10`;
            
            // Show next question button
            checkBtn.style.display = 'none';
            nextBtn.style.display = 'inline-block';
        }
        
        // Function to load next continue question
        function nextContinueQuestion() {
            currentQuestion++;
            
            if (currentQuestion < currentVersesList.length) {
                isAnswered = false;
                loadContinueQuestion();
            } else {
                showContinueGameComplete();
            }
        }
        
        // Function to show continue game complete screen
        function showContinueGameComplete() {
            const gameContainer = document.querySelector('#quranContinuePage .game-container');
            const percentage = Math.round((correctAnswers / 10) * 100);
            let rating = "";
            let ratingColor = "";
            
            if (percentage >= 90) {
                rating = "EXCELLENCE! 🏆";
                ratingColor = "#d4af37";
            } else if (percentage >= 70) {
                rating = "GOOD! 👍";
                ratingColor = "#4CAF50";
            } else if (percentage >= 50) {
                rating = "AVERAGE! 🙂";
                ratingColor = "#FF9800";
            } else {
                rating = "NEED TO LEARN MORE! 📚";
                ratingColor = "#F44336";
            }
            
            gameContainer.innerHTML = `
                <div class="game-complete">
                    <h2 class="game-title">Well done! You have successfully completed the level! ${currentLevel.charAt(0).toUpperCase() + currentLevel.slice(1)}</h2>
                    
                    <div class="score-display">Skor Akhir: ${score}</div>
                    
                    <div class="performance-stats">
                        <h3>Prestasi Anda:</h3>
                        <div style="font-size: 48px; color: ${ratingColor}; margin: 20px 0;">${rating}</div>
                        <p>Jawapan Betul: ${correctAnswers}/10 (${percentage}%)</p>
                        <p>Streak Tertinggi: ${streak}</p>
                    </div>
                    
                    <div class="btn-container">
                        <button class="btn" id="playAgainBtn">Retry This Level</button>
                        <button class="btn btn-secondary" id="tryOtherLevelBtn">Try Another Level</button>
                        <button class="btn btn-secondary" id="backToQuranBtn">Back to the Al-Quran</button>
                    </div>
                </div>
            `;
            
            // Set up event listeners for completion screen
            document.getElementById('playAgainBtn').addEventListener('click', () => {
                startLevel(currentLevel);
            });
            
            document.getElementById('tryOtherLevelBtn').addEventListener('click', () => {
                showPage('levelSelectionPage');
            });
            
            document.getElementById('backToQuranBtn').addEventListener('click', () => {
                showPage('quranPage');
            });
        }
        
        // ================= DAILY VERSE FUNCTIONS =================
        
        function updateDailyVerse() {
            const randomVerse = dailyVerses[Math.floor(Math.random() * dailyVerses.length)];
            dailyVerseText.textContent = randomVerse.text;
            dailyVerseReference.textContent = randomVerse.reference;
            soundSystem.playPageTransition();
        }
        
        // ================= HADIS COLLECTION FUNCTIONS =================
        
        function updateHadisCollection() {
            hadisCollectionText.textContent = hadisCollectionData[currentHadisIndex].text;
            hadisCollectionReference.textContent = hadisCollectionData[currentHadisIndex].reference;
        }
        
        function nextHadisInCollection() {
            currentHadisIndex = (currentHadisIndex + 1) % hadisCollectionData.length;
            updateHadisCollection();
            soundSystem.playPageTransition();
        }
        
        // ================= UTILITY FUNCTIONS =================
        
        function getOptionLetter(index) {
            return String.fromCharCode(65 + index);
        }
        
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function openMainMenu() {
            openingScreen.classList.add('hidden');
            
            setTimeout(() => {
                mainMenu.classList.add('show');
            }, 800);
        }
        
        function showPage(pageId) {
            // Hide all pages
            const allPages = document.querySelectorAll('.page, .main-menu');
            allPages.forEach(page => {
                page.classList.remove('show');
            });
            
            // Show the selected page
            const pageToShow = document.getElementById(pageId);
            if (pageToShow) {
                pageToShow.classList.add('show');
                currentPage = pageId;
            }
        }
        
        // ================= EVENT LISTENERS =================
        
        touchInstruction.addEventListener('click', () => {
            soundSystem.playPageTransition();
            openMainMenu();
        });
        
        // Menu Navigation
        quranMenuBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        hadisMenuBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisPage');
        });
        
        // Quran Page Navigation
        quranTajwidBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranTajwidPage');
            startTajwidGame();
        });
        
        quranQuizBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranQuizPage');
            initQuranQuiz();
        });
        
        quranDailyVerseBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranDailyVersePage');
            updateDailyVerse();
        });
        
        quranContinueBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('levelSelectionPage');
        });
        
        // Level Selection
        easyLevelBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            startLevel('easy');
        });
        
        mediumLevelBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            startLevel('medium');
        });
        
        hardLevelBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            startLevel('hard');
        });
        
        // Hadis Page Navigation
        hadisQuizBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisQuizPage');
            initHadisQuiz();
        });
        
        hadisCollectionBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisCollectionPage');
            updateHadisCollection();
        });
        
        hadisContinueBtn.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisContinuePage');
            initHadisContinueGame();
        });
        
        // Back Buttons
        backFromQuran.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('mainMenu');
        });
        
        backFromHadis.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('mainMenu');
        });
        
        backFromLevelSelection.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        backFromQuranTajwid.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        backFromQuranContinue.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('levelSelectionPage');
        });
        
        backFromQuranQuiz.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        backFromQuranDailyVerse.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        backFromHadisQuiz.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisPage');
        });
        
        backFromHadisCollection.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisPage');
        });
        
        backFromHadisContinue.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisPage');
        });
        
        // Navigation Buttons
        backToQuranFromLevel.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        backToQuranFromQuiz.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        backToQuranFromDailyVerse.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('quranPage');
        });
        
        backToHadisFromQuiz.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisPage');
        });
        
        backToHadisFromCollection.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisPage');
        });
        
        backToHadisFromContinue.addEventListener('click', () => {
            soundSystem.playPageTransition();
            showPage('hadisPage');
        });
        
        // Quran Quiz
        checkQuranQuizAnswerBtn.addEventListener('click', checkQuranQuizAnswer);
        nextQuranQuizQuestionBtn.addEventListener('click', nextQuranQuizQuestion);
        
        // Hadis Quiz
        checkHadisQuizAnswerBtn.addEventListener('click', checkHadisQuizAnswer);
        nextHadisQuizQuestionBtn.addEventListener('click', nextHadisQuizQuestion);
        
        // Hadis Continue Game
        checkHadisContinueAnswerBtn.addEventListener('click', checkHadisContinueAnswer);
        nextHadisContinueQuestionBtn.addEventListener('click', nextHadisContinueQuestion);
        
        // Daily Verse
        newDailyVerseBtn.addEventListener('click', updateDailyVerse);
        
        // Hadis Collection
        nextHadisInCollectionBtn.addEventListener('click', nextHadisInCollection);
        
        // Auto-open main menu after 5 seconds if user doesn't click
        setTimeout(() => {
            if (!mainMenu.classList.contains('show')) {
                openMainMenu();
            }
        }, 5000);
    </script>
</body>
</html>